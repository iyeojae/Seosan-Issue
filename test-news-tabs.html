<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>ë‰´ìŠ¤/ì¹´í˜/ë¸”ë¡œê·¸ íƒ­ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .tab-buttons { margin-bottom: 20px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; font-size: 16px; }
        button.active { background: #007bff; color: white; }
        .result { 
            background: #f5f5f5; 
            padding: 15px; 
            border-radius: 5px; 
            margin-top: 20px;
            max-height: 500px;
            overflow-y: auto;
        }
        .error { color: red; }
        .success { color: green; }
        .item { 
            background: white; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .item-title { font-weight: bold; color: #333; }
        .item-body { color: #666; margin-top: 5px; }
        .item-date { color: #999; font-size: 14px; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>ë‰´ìŠ¤/ì¹´í˜/ë¸”ë¡œê·¸ íƒ­ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="tab-buttons">
        <button onclick="testTab('ë‰´ìŠ¤')" id="btn-news">ë‰´ìŠ¤ í…ŒìŠ¤íŠ¸</button>
        <button onclick="testTab('ì¹´í˜')" id="btn-cafe">ì¹´í˜ í…ŒìŠ¤íŠ¸</button>
        <button onclick="testTab('ë¸”ë¡œê·¸')" id="btn-blog">ë¸”ë¡œê·¸ í…ŒìŠ¤íŠ¸</button>
        <button onclick="testTab('ë³µì§€')" id="btn-welfare">ë³µì§€ í…ŒìŠ¤íŠ¸ (ë¹„êµìš©)</button>
    </div>
    
    <div id="status"></div>
    <div id="result" class="result"></div>
    
    <script>
        // React ì•±ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ íƒ­ ì „í™˜ ì‹œë®¬ë ˆì´ì…˜
        async function testTab(tabName) {
            const statusDiv = document.getElementById('status');
            const resultDiv = document.getElementById('result');
            
            // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            statusDiv.innerHTML = `<p>í…ŒìŠ¤íŠ¸ ì¤‘: ${tabName} íƒ­...</p>`;
            resultDiv.innerHTML = '';
            
            try {
                // React ì»´í¬ë„ŒíŠ¸ê°€ í•˜ëŠ” ê²ƒì²˜ëŸ¼ íƒ­ì— ë”°ë¼ ë‹¤ë¥¸ ì²˜ë¦¬
                let mockData = [];
                
                if (tabName === 'ë‰´ìŠ¤') {
                    // ë‰´ìŠ¤ mock ë°ì´í„° ìƒì„± (React ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ ë¡œì§)
                    mockData = Array.from({ length: 15 }, (_, i) => ({
                        id: i + 1,
                        title: `ëŒ€ì‚°ì ì§€ì—­ ë‰´ìŠ¤ ${i + 1}: ì¢…í•© ì†Œì‹`,
                        body: `ëŒ€ì‚°ìì—ì„œ ì¼ì–´ë‚œ ë‹¤ì–‘í•œ ê´€ë ¨ ì†Œì‹ì…ë‹ˆë‹¤. ì§€ì—­ ì£¼ë¯¼ë“¤ì˜ ê´€ì‹¬ì´ ë†’ì•„ì§€ê³  ìˆìœ¼ë©°, ê´€ë ¨ ê¸°ê´€ì—ì„œëŠ” ì ê·¹ì ì¸ ëŒ€ì‘ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.`,
                        date: new Date(Date.now() - i * 86400000).toLocaleDateString('ko-KR').replace(/\. /g, '.').replace(/\.$/, ''),
                        categoryPath: `ë‰´ìŠ¤ > ì „ì²´`
                    }));
                    statusDiv.innerHTML = `<p class="success">âœ… ë‰´ìŠ¤ Mock ë°ì´í„° ìƒì„± ì™„ë£Œ: ${mockData.length}ê°œ</p>`;
                    
                } else if (tabName === 'ì¹´í˜' || tabName === 'ë¸”ë¡œê·¸') {
                    // ì¹´í˜/ë¸”ë¡œê·¸ mock ë°ì´í„° ìƒì„±
                    const contentType = tabName === "ì¹´í˜" ? "ì¹´í˜ ê¸€" : "ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸";
                    mockData = Array.from({ length: 12 }, (_, i) => ({
                        id: i + 1,
                        title: `ëŒ€ì‚°ì ${contentType} ${i + 1}: ì§€ì—­ ì†Œì‹ê³¼ ì •ë³´ ê³µìœ `,
                        body: `ëŒ€ì‚°ì ì§€ì—­ì˜ ${contentType}ì…ë‹ˆë‹¤. ì§€ì—­ ì£¼ë¯¼ë“¤ì´ ì§ì ‘ ì‘ì„±í•œ ìƒìƒí•œ ì´ì•¼ê¸°ì™€ ìœ ìš©í•œ ì •ë³´ë¥¼ ê³µìœ í•©ë‹ˆë‹¤. ë§›ì§‘, ëª…ì†Œ, ìƒí™œ ì •ë³´ ë“± ë‹¤ì–‘í•œ ë‚´ìš©ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.`,
                        date: new Date(Date.now() - i * 172800000).toLocaleDateString('ko-KR').replace(/\. /g, '.').replace(/\.$/, ''),
                        categoryPath: `${tabName} > ëŒ€ì‚°ì`
                    }));
                    statusDiv.innerHTML = `<p class="success">âœ… ${tabName} Mock ë°ì´í„° ìƒì„± ì™„ë£Œ: ${mockData.length}ê°œ</p>`;
                    
                } else if (tabName === 'ë³µì§€') {
                    // ì‹¤ì œ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸
                    const response = await fetch('/api/posts?category=WELFARE_SENIOR&region=ëŒ€ì‚°ì&page=0&size=5');
                    const data = await response.json();
                    if (data.content) {
                        mockData = data.content.map((item, idx) => ({
                            id: item.id || idx + 1,
                            title: item.title || 'ì œëª© ì—†ìŒ',
                            body: item.content || item.description || 'ë‚´ìš© ì—†ìŒ',
                            date: item.pubDate || new Date().toLocaleDateString('ko-KR'),
                            categoryPath: 'ë³µì§€ > ì–´ë¥´ì‹ '
                        }));
                        statusDiv.innerHTML = `<p class="success">âœ… ë³µì§€ API í˜¸ì¶œ ì„±ê³µ: ${mockData.length}ê°œ</p>`;
                    }
                }
                
                // ê²°ê³¼ í‘œì‹œ
                if (mockData.length > 0) {
                    let html = `<h3>${tabName} ë°ì´í„° (${mockData.length}ê°œ)</h3>`;
                    mockData.slice(0, 5).forEach(item => {
                        html += `
                            <div class="item">
                                <div class="item-title">${item.title}</div>
                                <div class="item-body">${item.body}</div>
                                <div class="item-date">ğŸ“… ${item.date} | ğŸ“ ${item.categoryPath}</div>
                            </div>
                        `;
                    });
                    if (mockData.length > 5) {
                        html += `<p style="text-align: center; color: #666;">... ê·¸ë¦¬ê³  ${mockData.length - 5}ê°œ ë”</p>`;
                    }
                    resultDiv.innerHTML = html;
                } else {
                    resultDiv.innerHTML = '<p class="error">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
                
            } catch (error) {
                statusDiv.innerHTML = `<p class="error">âŒ ì˜¤ë¥˜: ${error.message}</p>`;
                console.error('í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë‰´ìŠ¤ íƒ­ ìë™ í…ŒìŠ¤íŠ¸
        window.onload = () => {
            document.getElementById('btn-news').click();
        };
    </script>
</body>
</html>