{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uC5EC\\uC7AC\\\\Desktop\\\\SpringProject\\\\Seosan-Issue-front\\\\src\\\\components\\\\MapSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo, useCallback, memo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './MapSection.css';\nimport './PremiumMinimalMap.css';\nimport { MapPin, Calendar, Users, Mountain, Waves, TreePalm, Sparkles, Trees, ChevronLeft, ChevronRight } from 'lucide-react';\nimport MapImage from '../assets/map.png';\nimport MapTitleImage from '../assets/maptitle.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FESTIVALS = [{\n  month: '4월',\n  name: '해미벚꽃축제',\n  description: '해미천을 따라 흐드러진 벚꽃과 다리가 어우러진 풍경으로 오작교를 떠올리게 하는 낭만을 자아냅니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 4월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 해미면 해미천 일원'\n  }, {\n    icon: Users,\n    text: '찾아가는 거리음악회, 농특산물 판매, 야간공연 등'\n  }],\n  location: {\n    x: '65%',\n    y: '55%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6086'\n}, {\n  month: '5월',\n  name: '류방택별축제',\n  description: '천문과학을 주제로 한 별빛 축제로 별자리 관측과 천문 체험이 가능합니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 5월경'\n  }, {\n    icon: MapPin,\n    text: '서산 류방택천문기상과학관'\n  }, {\n    icon: Sparkles,\n    text: '별자리 관측, 천문 체험, 과학 프로그램'\n  }],\n  location: {\n    x: '50%',\n    y: '45%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6093'\n}, {\n  month: '6월',\n  name: '서산해미읍성축제',\n  description: '조선시대 군사 요충지였던 해미읍성에서 펼쳐지는 역사문화축제로, 전통 무예 시연과 다양한 체험 프로그램이 진행됩니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 6월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 해미읍성 일원'\n  }, {\n    icon: Users,\n    text: '전통 무예 시연, 역사 체험, 먹거리 장터'\n  }],\n  location: {\n    x: '63%',\n    y: '70%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6105'\n}, {\n  month: '7월',\n  name: '지곡왕산포서산갯마을축제',\n  description: '서산의 갯마을 문화와 해산물을 즐길 수 있는 여름 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 7월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 지곡면 왕산포'\n  }, {\n    icon: Waves,\n    text: '갯마을 체험, 해산물 시식, 어촌 문화'\n  }],\n  location: {\n    x: '45%',\n    y: '36%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6089'\n}, {\n  month: '7월',\n  name: '팔봉산감자축제',\n  description: '팔봉산 자락에서 재배한 햇감자를 주제로 한 농촌 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 7월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 팔봉면'\n  }, {\n    icon: Mountain,\n    text: '감자 수확 체험, 농산물 판매, 시골 장터'\n  }],\n  location: {\n    x: '32%',\n    y: '48%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6096'\n}, {\n  month: '8월',\n  name: '서산6쪽마늘축제',\n  description: '전국 최고의 품질을 자랑하는 서산 6쪽마늘을 주제로 한 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 8월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 해미면'\n  }, {\n    icon: Users,\n    text: '마늘 요리 시식, 농산물 판매, 문화공연'\n  }],\n  location: {\n    x: '63%',\n    y: '72%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6099'\n}, {\n  month: '9월',\n  name: '삼길포우럭축제',\n  description: '서산의 대표 수산물인 우럭을 주제로 한 미식 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 9월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 대산읍 삼길포'\n  }, {\n    icon: Waves,\n    text: '우럭 요리 시식, 낚시 체험, 수산물 판매'\n  }],\n  location: {\n    x: '42%',\n    y: '16%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6102'\n}, {\n  month: '10월',\n  name: '어리굴젓축제',\n  description: '서산의 특산물 어리굴젓과 새우젓을 만나는 전통 발효 음식 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 10월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 부석면'\n  }, {\n    icon: Users,\n    text: '젓갈 시식, 전통 음식 체험, 특산물 판매'\n  }],\n  location: {\n    x: '35%',\n    y: '80%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6141'\n}, {\n  month: '10월',\n  name: '서산국화축제',\n  description: '가을의 정취를 만끽할 수 있는 서산국화축제는 다양한 국화 전시와 함께 문화공연이 펼쳐집니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 10월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 음암면 탑곡리'\n  }, {\n    icon: Sparkles,\n    text: '국화 전시, 문화공연, 체험 프로그램'\n  }],\n  location: {\n    x: '60%',\n    y: '50%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6138'\n}, {\n  month: '11월',\n  name: '서산뻘낙지먹물축제',\n  description: '서산 갯벌의 명물 뻘낙지를 주제로 한 이색 먹거리 축제입니다.',\n  details: [{\n    icon: Calendar,\n    text: '매년 11월경'\n  }, {\n    icon: MapPin,\n    text: '서산시 부석면'\n  }, {\n    icon: Waves,\n    text: '뻘낙지 시식, 갯벌 체험, 먹물 요리'\n  }],\n  location: {\n    x: '35%',\n    y: '80%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6144'\n}];\nconst EXPERIENCES = [{\n  icon: Mountain,\n  title: '서산 경주김씨 고택',\n  description: '전통 한옥의 아름다움을 간직한 고택 체험',\n  location: '해미면',\n  position: {\n    x: '63%',\n    y: '72%'\n  },\n  link: 'https://blog.naver.com/gyeam'\n}, {\n  icon: Mountain,\n  title: '서산 유기방가옥',\n  description: '조선시대 전통 가옥 체험',\n  location: '운산면',\n  position: {\n    x: '68%',\n    y: '58%'\n  },\n  link: 'http://xn--o39am5bv7vomeopa05vdxb.gajagaja.co.kr/'\n}, {\n  icon: Waves,\n  title: '중리어촌체험마을',\n  description: '어촌 생활과 해양 생태 체험',\n  location: '지곡면',\n  position: {\n    x: '45%',\n    y: '36%'\n  },\n  link: 'http://중리어촌체험마을.kr'\n}, {\n  icon: Waves,\n  title: '웅도어촌체험휴양마을',\n  description: '서해 어촌의 일상을 체험하는 휴양마을',\n  location: '대산읍',\n  position: {\n    x: '42%',\n    y: '16%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=6189&bbsNo=1744&nttNo=243759'\n}, {\n  icon: Trees,\n  title: '방길동마을',\n  description: '농촌 체험과 전통 문화가 살아있는 마을',\n  location: '성연면',\n  position: {\n    x: '48%',\n    y: '47%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=129332'\n}, {\n  icon: Sparkles,\n  title: '별마을',\n  description: '별빛 가득한 천문 관측 체험마을',\n  location: '인지면',\n  position: {\n    x: '42%',\n    y: '66%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=129333'\n}, {\n  icon: Mountain,\n  title: '한다리전통체험마을',\n  description: '전통 문화와 농촌 체험이 어우러진 마을',\n  location: '고북면',\n  position: {\n    x: '55%',\n    y: '86%'\n  },\n  link: 'https://handari.weebly.com/'\n}, {\n  icon: Trees,\n  title: '초록꿈틀마을',\n  description: '친환경 농업과 자연 생태 체험',\n  location: '팔봉면',\n  position: {\n    x: '32%',\n    y: '48%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=242553'\n}, {\n  icon: TreePalm,\n  title: '난사랑방',\n  description: '난초 재배와 원예 체험',\n  location: '음암면',\n  position: {\n    x: '60%',\n    y: '50%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=110638'\n}, {\n  icon: Trees,\n  title: '과학딸기농장',\n  description: '첨단 농법으로 재배하는 딸기 체험',\n  location: '성연면',\n  position: {\n    x: '50%',\n    y: '45%'\n  },\n  link: 'http://www.winesb.co.kr'\n}, {\n  icon: Trees,\n  title: '꼼방울',\n  description: '전통 발효 식품 만들기 체험',\n  location: '부석면',\n  position: {\n    x: '35%',\n    y: '80%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=191278'\n}, {\n  icon: Trees,\n  title: '나눔농장',\n  description: '유기농 채소 수확 체험',\n  location: '동문동',\n  position: {\n    x: '49%',\n    y: '52%'\n  },\n  link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=191280'\n}, {\n  icon: Trees,\n  title: '나무테크 나무야',\n  description: '목공예와 나무 공방 체험',\n  location: '수석동',\n  position: {\n    x: '52%',\n    y: '58%'\n  },\n  link: 'https://blog.naver.com/leejeel'\n}, {\n  icon: Mountain,\n  title: '부석사 템플스테이',\n  description: '천년고찰에서의 사찰 문화 체험',\n  location: '부석면',\n  position: {\n    x: '33%',\n    y: '78%'\n  },\n  link: 'https://www.seosan.go.kr/tour/contents.do?key=6148'\n}, {\n  icon: Mountain,\n  title: '서광사 템플스테이',\n  description: '명상과 참선으로 마음의 평화를 찾는 시간',\n  location: '석남동',\n  position: {\n    x: '48%',\n    y: '66%'\n  },\n  link: 'http://www.seogwangsa.or.kr/'\n}, {\n  icon: Mountain,\n  title: '용현리 마애여래삼존상',\n  description: '백제의 미소를 간직한 국보 제84호',\n  location: '용현리',\n  position: {\n    x: '35%',\n    y: '65%'\n  }\n}, {\n  icon: Waves,\n  title: '가로림만 갯벌 체험',\n  description: '서해안 최대의 내만 갯벌 생태 체험',\n  location: '가로림만',\n  position: {\n    x: '25%',\n    y: '35%'\n  }\n}, {\n  icon: TreePalm,\n  title: '팜카밀레 허브농원',\n  description: '200여 종의 허브와 함께하는 힐링',\n  location: '팔봉면',\n  position: {\n    x: '75%',\n    y: '70%'\n  }\n}];\nconst REGIONS = [\n// 북부 지역\n{\n  id: 'daesan',\n  name: '대산읍',\n  description: '석유화학단지',\n  position: {\n    x: '42%',\n    y: '16%'\n  }\n}, {\n  id: 'jigok',\n  name: '지곡면',\n  description: '농촌체험마을',\n  position: {\n    x: '45%',\n    y: '36%'\n  }\n},\n// 서부 지역\n{\n  id: 'palbong',\n  name: '팔봉면',\n  description: '팔봉산 관광지',\n  position: {\n    x: '32%',\n    y: '48%'\n  }\n},\n// 중앙 지역\n{\n  id: 'seongyeon',\n  name: '성연면',\n  description: '전통시장',\n  position: {\n    x: '48%',\n    y: '47%'\n  }\n}, {\n  id: 'buchun',\n  name: '부춘동',\n  description: '행정중심',\n  position: {\n    x: '42%',\n    y: '52%'\n  }\n},\n// 위로 이동 후 왼쪽\n{\n  id: 'dongmun1',\n  name: '동문1동',\n  description: '구도심',\n  position: {\n    x: '49%',\n    y: '52%'\n  }\n},\n// 위로 이동 후 왼쪽\n{\n  id: 'dongmun2',\n  name: '동문2동',\n  description: '상업지구',\n  position: {\n    x: '44%',\n    y: '57%'\n  }\n},\n// 위로 이동 후 살짝 왼쪽\n{\n  id: 'suseok',\n  name: '수석동',\n  description: '주거지역',\n  position: {\n    x: '52%',\n    y: '58%'\n  }\n},\n// 위로\n{\n  id: 'seoknam',\n  name: '석남동',\n  description: '신도시',\n  position: {\n    x: '48%',\n    y: '66%'\n  }\n},\n// 동부 지역\n{\n  id: 'eumam',\n  name: '음암면',\n  description: '온천관광',\n  position: {\n    x: '60%',\n    y: '50%'\n  }\n}, {\n  id: 'unsan',\n  name: '운산면',\n  description: '역사문화',\n  position: {\n    x: '68%',\n    y: '58%'\n  }\n},\n// 원래 위치로 복원\n\n// 남부 지역\n{\n  id: 'inji',\n  name: '인지면',\n  description: '자연생태',\n  position: {\n    x: '42%',\n    y: '66%'\n  }\n}, {\n  id: 'buseok',\n  name: '부석면',\n  description: '사찰문화',\n  position: {\n    x: '35%',\n    y: '80%'\n  }\n}, {\n  id: 'gobuk',\n  name: '고북면',\n  description: '농업지대',\n  position: {\n    x: '55%',\n    y: '86%'\n  }\n}, {\n  id: 'haemi',\n  name: '해미면',\n  description: '해미읍성',\n  position: {\n    x: '63%',\n    y: '72%'\n  }\n}];\nconst MapSection = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(({\n  className\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('festival');\n  const [currentFestivalIndex, setCurrentFestivalIndex] = useState(0);\n  const [currentExperienceIndex, setCurrentExperienceIndex] = useState(0);\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [hoveredMarkerId, setHoveredMarkerId] = useState(null);\n  const [focusedMarkerId, setFocusedMarkerId] = useState(null);\n  const [loadingState, setLoadingState] = useState('idle');\n  const [retryCount, setRetryCount] = useState(0);\n  const sectionRef = useRef(null);\n  const loadingTimeoutRef = useRef();\n  const [hoveredRegion, setHoveredRegion] = useState(null);\n  const [selectedRegion, setSelectedRegion] = useState(null);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Memoized computations\n  const currentFestival = useMemo(() => FESTIVALS[currentFestivalIndex], [currentFestivalIndex]);\n\n  // Optimized callbacks with advanced UX patterns\n  const handleTabChange = useCallback(tab => {\n    if (tab !== activeTab) {\n      // Clear any hover states when switching tabs for clean transition\n      setHoveredMarkerId(null);\n      setFocusedMarkerId(null);\n\n      // Add micro-delay for smooth visual transition\n      const tabElement = document.querySelector(`.final-tab[aria-pressed=\"false\"]`);\n      if (tabElement) {\n        tabElement.classList.add('switching');\n        setTimeout(() => {\n          tabElement.classList.remove('switching');\n        }, 300);\n      }\n      setActiveTab(tab);\n    }\n  }, [activeTab]);\n  const handlePrevFestival = useCallback(() => {\n    // Add smooth transition effect\n    const currentMarker = document.querySelector('.final-marker.active');\n    if (currentMarker) {\n      currentMarker.classList.add('transitioning-out');\n      setTimeout(() => {\n        currentMarker === null || currentMarker === void 0 ? void 0 : currentMarker.classList.remove('transitioning-out');\n      }, 200);\n    }\n    setCurrentFestivalIndex(prev => prev > 0 ? prev - 1 : FESTIVALS.length - 1);\n  }, []);\n  const handleNextFestival = useCallback(() => {\n    // Add smooth transition effect\n    const currentMarker = document.querySelector('.final-marker.active');\n    if (currentMarker) {\n      currentMarker.classList.add('transitioning-out');\n      setTimeout(() => {\n        currentMarker === null || currentMarker === void 0 ? void 0 : currentMarker.classList.remove('transitioning-out');\n      }, 200);\n    }\n    setCurrentFestivalIndex(prev => (prev + 1) % FESTIVALS.length);\n  }, []);\n  const handlePrevExperience = useCallback(() => {\n    setCurrentExperienceIndex(prev => {\n      if (prev > 0) {\n        return prev - 4; // 4개씩 이동\n      }\n      // 마지막 페이지로 이동\n      const totalPages = Math.ceil(EXPERIENCES.length / 4);\n      return (totalPages - 1) * 4;\n    });\n  }, []);\n  const handleNextExperience = useCallback(() => {\n    setCurrentExperienceIndex(prev => {\n      const nextIndex = prev + 4; // 4개씩 이동\n      if (nextIndex >= EXPERIENCES.length) {\n        return 0; // 처음으로 돌아가기\n      }\n      return nextIndex;\n    });\n  }, []);\n  const handleFestivalDotClick = useCallback(index => {\n    if (index !== currentFestivalIndex) {\n      setCurrentFestivalIndex(index);\n    }\n  }, [currentFestivalIndex]);\n  const handleMapLoad = useCallback(() => {\n    if (loadingTimeoutRef.current) {\n      clearTimeout(loadingTimeoutRef.current);\n    }\n    setLoadingState('loaded');\n    setIsMapLoaded(true);\n    setRetryCount(0);\n  }, []);\n  const handleMapError = useCallback(() => {\n    if (loadingTimeoutRef.current) {\n      clearTimeout(loadingTimeoutRef.current);\n    }\n    if (retryCount < 3) {\n      console.warn(`Map image failed to load, retrying... (${retryCount + 1}/3)`);\n      setRetryCount(prev => prev + 1);\n      setLoadingState('loading');\n\n      // Retry after a delay\n      setTimeout(() => {\n        const img = document.querySelector('.map-image-final');\n        if (img) {\n          img.src = img.src + '?retry=' + (retryCount + 1);\n        }\n      }, 1000 * (retryCount + 1));\n    } else {\n      console.error('Map image failed to load after 3 retries');\n      setLoadingState('error');\n      setIsMapLoaded(true); // Still show interface\n    }\n  }, [retryCount]);\n  const handleRetryLoad = useCallback(() => {\n    setLoadingState('loading');\n    setRetryCount(0);\n    const img = document.querySelector('.map-image-final');\n    if (img) {\n      img.src = img.src.split('?')[0] + '?retry=' + Date.now();\n    }\n  }, []);\n\n  // Marker interaction handlers\n  const handleMarkerMouseEnter = useCallback(markerId => {\n    setHoveredMarkerId(markerId);\n  }, []);\n  const handleMarkerMouseLeave = useCallback(() => {\n    setHoveredMarkerId(null);\n  }, []);\n  const handleMarkerFocus = useCallback(markerId => {\n    setFocusedMarkerId(markerId);\n  }, []);\n  const handleMarkerBlur = useCallback(() => {\n    setFocusedMarkerId(null);\n  }, []);\n\n  // 지역 클릭 핸들러\n  const handleRegionClick = useCallback((regionId, regionName) => {\n    if (isMobile) {\n      // 모바일에서는 첫 탭에서 정보 표시, 두 번째 탭에서 이동\n      if (selectedRegion === regionId) {\n        navigate(`/explore?region=${encodeURIComponent(regionName)}`, {\n          state: {\n            scrollToTop: true\n          }\n        });\n      } else {\n        setSelectedRegion(regionId);\n      }\n    } else {\n      // 데스크톱에서는 바로 이동\n      navigate(`/explore?region=${encodeURIComponent(regionName)}`, {\n        state: {\n          scrollToTop: true\n        }\n      });\n    }\n  }, [navigate, isMobile, selectedRegion]);\n\n  // 지역 호버 핸들러\n  const handleRegionMouseEnter = useCallback(regionId => {\n    setHoveredRegion(regionId);\n  }, []);\n  const handleRegionMouseLeave = useCallback(() => {\n    setHoveredRegion(null);\n  }, []);\n\n  // Intersection Observer for fade-in animation\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true);\n      }\n    }, {\n      threshold: 0.1\n    });\n    if (sectionRef.current) {\n      observer.observe(sectionRef.current);\n    }\n    return () => observer.disconnect();\n  }, []);\n\n  // Auto-slide with proper cleanup\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (activeTab === 'festival') {\n        setCurrentFestivalIndex(prev => (prev + 1) % FESTIVALS.length);\n      } else if (activeTab === 'experience') {\n        setCurrentExperienceIndex(prev => {\n          const nextIndex = prev + 4;\n          return nextIndex >= EXPERIENCES.length ? 0 : nextIndex;\n        });\n      }\n    }, 8000);\n    return () => clearInterval(interval);\n  }, [activeTab]);\n\n  // Optimized parallax effect with debouncing\n  useEffect(() => {\n    let animationFrameId;\n    let isProcessing = false;\n    const handleMouseMove = e => {\n      if (isProcessing) return;\n      const mouseEvent = e;\n      const mapContainer = document.querySelector('.final-map-container');\n      if (!mapContainer) return;\n      isProcessing = true;\n      animationFrameId = requestAnimationFrame(() => {\n        try {\n          const rect = mapContainer.getBoundingClientRect();\n          const centerX = rect.left + rect.width / 2;\n          const centerY = rect.top + rect.height / 2;\n          const deltaX = (mouseEvent.clientX - centerX) / rect.width;\n          const deltaY = (mouseEvent.clientY - centerY) / rect.height;\n          const parallaxElements = mapContainer.querySelectorAll('.final-marker, .final-exp-marker, .tree-icon, .mountain-icon');\n          parallaxElements.forEach((element, index) => {\n            const intensity = (index % 3 + 1) * 1.5; // Reduced intensity for smoother movement\n            const translateX = deltaX * intensity;\n            const translateY = deltaY * intensity;\n            const htmlElement = element;\n            const currentTransform = htmlElement.style.transform.replace(/translate\\([^)]*\\)/g, '');\n            htmlElement.style.transform = `${currentTransform} translate(${translateX}px, ${translateY}px)`;\n          });\n        } catch (error) {\n          console.warn('Parallax effect error:', error);\n        } finally {\n          isProcessing = false;\n        }\n      });\n    };\n    const handleMouseLeave = () => {\n      const mapContainer = document.querySelector('.final-map-container');\n      if (!mapContainer) return;\n      const parallaxElements = mapContainer.querySelectorAll('.final-marker, .final-exp-marker, .tree-icon, .mountain-icon');\n      parallaxElements.forEach(element => {\n        const htmlElement = element;\n        htmlElement.style.transform = htmlElement.style.transform.replace(/translate\\([^)]*\\)/g, '');\n      });\n    };\n    const mapContainer = document.querySelector('.final-map-container');\n    if (mapContainer) {\n      mapContainer.addEventListener('mousemove', handleMouseMove, {\n        passive: true\n      });\n      mapContainer.addEventListener('mouseleave', handleMouseLeave, {\n        passive: true\n      });\n    }\n    return () => {\n      if (animationFrameId) {\n        cancelAnimationFrame(animationFrameId);\n      }\n      if (mapContainer) {\n        mapContainer.removeEventListener('mousemove', handleMouseMove);\n        mapContainer.removeEventListener('mouseleave', handleMouseLeave);\n      }\n    };\n  }, []);\n\n  // State persistence\n  useEffect(() => {\n    try {\n      const savedState = localStorage.getItem('seosan-map-state');\n      if (savedState) {\n        const parsedState = JSON.parse(savedState);\n        if (parsedState.activeTab && ['festival', 'experience'].includes(parsedState.activeTab)) {\n          setActiveTab(parsedState.activeTab);\n        }\n        if (typeof parsedState.currentFestivalIndex === 'number' && parsedState.currentFestivalIndex >= 0 && parsedState.currentFestivalIndex < FESTIVALS.length) {\n          setCurrentFestivalIndex(parsedState.currentFestivalIndex);\n        }\n        if (typeof parsedState.currentExperienceIndex === 'number' && parsedState.currentExperienceIndex >= 0 && parsedState.currentExperienceIndex < EXPERIENCES.length) {\n          setCurrentExperienceIndex(parsedState.currentExperienceIndex);\n        }\n      }\n    } catch (error) {\n      console.warn('Failed to load saved map state:', error);\n    }\n  }, []);\n\n  // Save state changes\n  useEffect(() => {\n    if (isInitialized) {\n      try {\n        const stateToSave = {\n          activeTab,\n          currentFestivalIndex,\n          currentExperienceIndex,\n          timestamp: Date.now()\n        };\n        localStorage.setItem('seosan-map-state', JSON.stringify(stateToSave));\n      } catch (error) {\n        console.warn('Failed to save map state:', error);\n      }\n    }\n  }, [activeTab, currentFestivalIndex, currentExperienceIndex, isInitialized]);\n\n  // Advanced keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Only handle keyboard events when section is visible\n      if (!isVisible) return;\n      switch (e.key) {\n        case 'ArrowLeft':\n          e.preventDefault();\n          if (activeTab === 'festival') {\n            handlePrevFestival();\n          } else if (activeTab === 'experience') {\n            handlePrevExperience();\n          }\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          if (activeTab === 'festival') {\n            handleNextFestival();\n          } else if (activeTab === 'experience') {\n            handleNextExperience();\n          }\n          break;\n        case 'Tab':\n          if (e.shiftKey) {\n            handleTabChange('festival');\n          } else {\n            handleTabChange('experience');\n          }\n          break;\n        case '1':\n        case '2':\n        case '3':\n          if (activeTab === 'festival') {\n            const index = parseInt(e.key) - 1;\n            if (index >= 0 && index < FESTIVALS.length) {\n              e.preventDefault();\n              handleFestivalDotClick(index);\n            }\n          }\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isVisible, activeTab, handlePrevFestival, handleNextFestival, handlePrevExperience, handleNextExperience, handleTabChange, handleFestivalDotClick]);\n\n  // 모바일 감지\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // 외부 클릭시 선택 해제\n  useEffect(() => {\n    const handleClickOutside = e => {\n      const target = e.target;\n      if (!target.closest('.region-marker') && selectedRegion) {\n        setSelectedRegion(null);\n      }\n    };\n    if (isMobile) {\n      document.addEventListener('click', handleClickOutside);\n      return () => document.removeEventListener('click', handleClickOutside);\n    }\n  }, [isMobile, selectedRegion]);\n\n  // Component initialization with advanced loading\n  useEffect(() => {\n    setLoadingState('loading');\n\n    // Set a timeout for loading state\n    loadingTimeoutRef.current = setTimeout(() => {\n      setLoadingState('error');\n      console.warn('Map loading timeout');\n    }, 10000); // 10 second timeout\n\n    const initTimer = setTimeout(() => {\n      setIsInitialized(true);\n    }, 100);\n    return () => {\n      clearTimeout(initTimer);\n      if (loadingTimeoutRef.current) {\n        clearTimeout(loadingTimeoutRef.current);\n      }\n    };\n  }, []); // Remove loadingState dependency to avoid infinite loop\n\n  // Performance monitoring and memory management\n  useEffect(() => {\n    let startTime = performance.now();\n    const measurePerformance = () => {\n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      if (renderTime > 100) {\n        // Log if render takes more than 100ms\n        console.warn(`MapSection render took ${renderTime.toFixed(2)}ms`);\n      }\n    };\n\n    // Measure performance after initial render\n    const measureTimer = setTimeout(measurePerformance, 0);\n    return () => {\n      clearTimeout(measureTimer);\n      if (loadingTimeoutRef.current) {\n        clearTimeout(loadingTimeoutRef.current);\n      }\n\n      // Cleanup any remaining event listeners or intervals\n      setHoveredMarkerId(null);\n      setFocusedMarkerId(null);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: `map-section-final ${isVisible ? 'visible' : ''}`,\n    ref: sectionRef,\n    \"aria-label\": \"\\uC11C\\uC0B0 \\uCD95\\uC81C \\uBC0F \\uCCB4\\uD5D8 \\uC9C0\\uB3C4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"final-background\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wave-background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wave-layer-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wave-layer-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"final-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"final-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `final-tab ${activeTab === 'festival' ? 'active' : ''}`,\n          onClick: () => handleTabChange('festival'),\n          \"aria-pressed\": activeTab === 'festival',\n          \"aria-label\": \"\\uC11C\\uC0B0 \\uCD95\\uC81C \\uD0ED\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tab-label\",\n            children: \"\\uC11C\\uC0B0 \\uCD95\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `final-tab ${activeTab === 'experience' ? 'active' : ''}`,\n          onClick: () => handleTabChange('experience'),\n          \"aria-pressed\": activeTab === 'experience',\n          \"aria-label\": \"\\uC11C\\uC0B0 \\uCCB4\\uD5D8 \\uD0ED\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tab-label\",\n            children: \"\\uC11C\\uC0B0 \\uCCB4\\uD5D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"final-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-panel\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-info-panel\",\n            children: [activeTab === 'festival' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"festival-panel-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"festival-badge-container\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"festival-title-badge\",\n                  children: [currentFestival.month, \" \", currentFestival.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"festival-description-final\",\n                children: currentFestival.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"festival-details-final\",\n                children: currentFestival.details.map((detail, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-row-final\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-content-final\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-label-final\",\n                        children: index === 0 ? '개최일' : index === 1 ? '장소' : '주요'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 853,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-value-final\",\n                        children: detail.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 856,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 852,\n                      columnNumber: 27\n                    }, this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 851,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 19\n              }, this), currentFestival.link && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"festival-link-container\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: currentFestival.link,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"festival-detail-link\",\n                  children: [\"\\uC790\\uC138\\uD788 \\uBCF4\\uAE30\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link-arrow\",\n                    children: \"\\u2192\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"festival-nav-final\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"nav-arrow prev\",\n                    onClick: handlePrevFestival,\n                    \"aria-label\": \"\\uC774\\uC804 \\uCD95\\uC81C \\uBCF4\\uAE30\",\n                    children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 882,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 881,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nav-counter\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"current\",\n                      children: currentFestivalIndex + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"divider\",\n                      children: \"/\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"total\",\n                      children: FESTIVALS.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 884,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"nav-arrow next\",\n                    onClick: handleNextFestival,\n                    \"aria-label\": \"\\uB2E4\\uC74C \\uCD95\\uC81C \\uBCF4\\uAE30\",\n                    children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 890,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"panel-petals\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"floating-petal\",\n                  style: {\n                    top: '0',\n                    left: '0'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"floating-petal\",\n                  style: {\n                    top: '20px',\n                    right: '10px',\n                    animationDelay: '2s'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 898,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 17\n            }, this), activeTab === 'experience' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"experience-panel-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"experience-title-final\",\n                children: [\"\\uC790\\uC5F0\\uACFC \\uD568\\uAED8\\uD558\\uB294\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"title-highlight\",\n                  children: \" \\uD2B9\\uBCC4\\uD55C \\uC5EC\\uD589\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"experience-cards-final\",\n                children: EXPERIENCES.slice(currentExperienceIndex, currentExperienceIndex + 4).map((exp, index) => {\n                  const Icon = exp.icon;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"exp-card-final\",\n                    style: {\n                      cursor: exp.link ? 'pointer' : 'default'\n                    },\n                    onClick: () => {\n                      if (exp.link) {\n                        window.open(exp.link, '_blank');\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"exp-icon-final\",\n                      children: /*#__PURE__*/_jsxDEV(Icon, {\n                        size: 24,\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 925,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 924,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"exp-content-final\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        children: exp.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 928,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: exp.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 929,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '10px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"exp-location-tag\",\n                          children: exp.location\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 931,\n                          columnNumber: 31\n                        }, this), exp.link && /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontSize: '12px',\n                            color: '#26d0ce',\n                            fontWeight: '600'\n                          },\n                          children: \"\\uD074\\uB9AD \\u2192\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 933,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 930,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 927,\n                      columnNumber: 27\n                    }, this)]\n                  }, `exp-card-${currentExperienceIndex + index}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 914,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"festival-nav-final\",\n                style: {\n                  marginTop: '20px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"nav-arrow prev\",\n                    onClick: handlePrevExperience,\n                    \"aria-label\": \"\\uC774\\uC804 \\uCCB4\\uD5D8 \\uBCF4\\uAE30\",\n                    children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 952,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 951,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"nav-counter\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"current\",\n                      children: Math.floor(currentExperienceIndex / 4) + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 955,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"divider\",\n                      children: \"/\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 956,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"total\",\n                      children: Math.ceil(EXPERIENCES.length / 4)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 957,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 954,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"nav-arrow next\",\n                    onClick: handleNextExperience,\n                    \"aria-label\": \"\\uB2E4\\uC74C \\uCCB4\\uD5D8 \\uBCF4\\uAE30\",\n                    children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 959,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center-map\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-map-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-frame\",\n              children: [loadingState === 'loading' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map-loading-overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loading-spinner\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"spinner-ring\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"spinner-ring\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 977,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"spinner-ring\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 978,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"loading-text\",\n                  children: retryCount > 0 ? `재시도 중... (${retryCount}/3)` : '지도를 불러오는 중...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 19\n              }, this), loadingState === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map-error-overlay\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error-icon\",\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-text\",\n                  children: \"\\uC9C0\\uB3C4\\uB97C \\uBD88\\uB7EC\\uC62C \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"retry-button\",\n                  onClick: handleRetryLoad,\n                  \"aria-label\": \"\\uC9C0\\uB3C4 \\uB2E4\\uC2DC \\uBD88\\uB7EC\\uC624\\uAE30\",\n                  children: \"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 990,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 987,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: MapImage,\n                alt: \"\\uC11C\\uC0B0\\uC2DC \\uC804\\uCCB4 \\uC9C0\\uB3C4. \\uCD95\\uC81C \\uBC0F \\uCCB4\\uD5D8 \\uC7A5\\uC18C\\uAC00 \\uD45C\\uC2DC\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4\",\n                className: `map-image-final ${isMapLoaded ? 'loaded' : 'loading'}`,\n                onLoad: handleMapLoad,\n                onError: handleMapError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 17\n              }, this), activeTab === 'festival' && FESTIVALS.map((festival, index) => {\n                const markerId = `festival-${index}`;\n                const isActive = index === currentFestivalIndex;\n                const isHovered = hoveredMarkerId === markerId;\n                const isFocused = focusedMarkerId === markerId;\n                const shouldShowLabel = isActive || isHovered || isFocused;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `final-marker ${isActive ? 'active' : ''} ${isHovered ? 'hovered' : ''} ${isFocused ? 'focused' : ''}`,\n                  style: {\n                    left: festival.location.x,\n                    top: festival.location.y,\n                    zIndex: isActive ? 100 : isHovered || isFocused ? 50 : 10\n                  },\n                  onClick: () => handleFestivalDotClick(index),\n                  onMouseEnter: () => handleMarkerMouseEnter(markerId),\n                  onMouseLeave: handleMarkerMouseLeave,\n                  onFocus: () => handleMarkerFocus(markerId),\n                  onBlur: handleMarkerBlur,\n                  \"aria-label\": `${festival.name} (${festival.month}) 마커`,\n                  \"aria-pressed\": isActive,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"marker-pin\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pin-head\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1038,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pin-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1039,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `marker-label-final ${shouldShowLabel ? 'visible' : 'hidden'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"festival-name\",\n                      children: festival.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1042,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"festival-month\",\n                      children: festival.month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1043,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1041,\n                    columnNumber: 23\n                  }, this)]\n                }, markerId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 21\n                }, this);\n              }), REGIONS.map((region, index) => {\n                const isHovered = hoveredRegion === region.id;\n                const isSelected = selectedRegion === region.id;\n                const isActive = isMobile && isSelected;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `region-marker ${isHovered ? 'hovered' : ''} ${isSelected ? 'selected' : ''} ${isActive ? 'mobile-active' : ''}`,\n                  style: {\n                    left: region.position.x,\n                    top: region.position.y,\n                    '--index': index\n                  },\n                  onClick: () => handleRegionClick(region.id, region.name),\n                  onMouseEnter: () => handleRegionMouseEnter(region.id),\n                  onMouseLeave: handleRegionMouseLeave,\n                  \"aria-label\": `${region.name} 지역`,\n                  \"aria-pressed\": isSelected,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-card\",\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"region-title\",\n                      children: region.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1071,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1070,\n                    columnNumber: 23\n                  }, this)\n                }, region.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 21\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-area\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-header\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: MapTitleImage,\n              alt: \"\\uB9C8\\uC744 \\uAD6C\\uC11D\\uAD6C\\uC11D, \\uC11C\\uC0B0 \\uC815\\uBCF5\\uD558\\uAE30! \\uD0C0\\uC774\\uD2C0\",\n              className: \"final-title-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 810,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 801,\n    columnNumber: 5\n  }, this);\n}, \"fAJl5xePnYgV7QmVH2LHojxAV+A=\", false, function () {\n  return [useNavigate];\n})), \"fAJl5xePnYgV7QmVH2LHojxAV+A=\", false, function () {\n  return [useNavigate];\n});\n_c2 = MapSection;\nMapSection.displayName = 'MapSection';\n\n// Error Boundary Component\nclass MapSectionErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true,\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error('MapSection Error:', error, errorInfo);\n  }\n  render() {\n    if (this.state.hasError) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"map-section-error\",\n        role: \"alert\",\n        \"aria-live\": \"polite\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uC9C0\\uB3C4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911 \\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD398\\uC774\\uC9C0\\uB97C \\uC0C8\\uB85C\\uACE0\\uCE68\\uD558\\uAC70\\uB098 \\uC7A0\\uC2DC \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"error-reload-btn\",\n            children: \"\\uC0C8\\uB85C\\uACE0\\uCE68\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1121,\n        columnNumber: 9\n      }, this);\n    }\n    return this.props.children;\n  }\n}\n\n// Wrapped component with error boundary\nconst MapSectionWithErrorBoundary = props => /*#__PURE__*/_jsxDEV(MapSectionErrorBoundary, {\n  children: /*#__PURE__*/_jsxDEV(MapSection, {\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1143,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1142,\n  columnNumber: 3\n}, this);\n_c3 = MapSectionWithErrorBoundary;\nexport default MapSectionWithErrorBoundary;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MapSection$memo\");\n$RefreshReg$(_c2, \"MapSection\");\n$RefreshReg$(_c3, \"MapSectionWithErrorBoundary\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","useCallback","memo","useNavigate","MapPin","Calendar","Users","Mountain","Waves","TreePalm","Sparkles","Trees","ChevronLeft","ChevronRight","MapImage","MapTitleImage","jsxDEV","_jsxDEV","FESTIVALS","month","name","description","details","icon","text","location","x","y","link","EXPERIENCES","title","position","REGIONS","id","MapSection","_s","_c","className","navigate","activeTab","setActiveTab","currentFestivalIndex","setCurrentFestivalIndex","currentExperienceIndex","setCurrentExperienceIndex","isVisible","setIsVisible","isMapLoaded","setIsMapLoaded","isInitialized","setIsInitialized","hoveredMarkerId","setHoveredMarkerId","focusedMarkerId","setFocusedMarkerId","loadingState","setLoadingState","retryCount","setRetryCount","sectionRef","loadingTimeoutRef","hoveredRegion","setHoveredRegion","selectedRegion","setSelectedRegion","isMobile","setIsMobile","currentFestival","handleTabChange","tab","tabElement","document","querySelector","classList","add","setTimeout","remove","handlePrevFestival","currentMarker","prev","length","handleNextFestival","handlePrevExperience","totalPages","Math","ceil","handleNextExperience","nextIndex","handleFestivalDotClick","index","handleMapLoad","current","clearTimeout","handleMapError","console","warn","img","src","error","handleRetryLoad","split","Date","now","handleMarkerMouseEnter","markerId","handleMarkerMouseLeave","handleMarkerFocus","handleMarkerBlur","handleRegionClick","regionId","regionName","encodeURIComponent","state","scrollToTop","handleRegionMouseEnter","handleRegionMouseLeave","observer","IntersectionObserver","entry","isIntersecting","threshold","observe","disconnect","interval","setInterval","clearInterval","animationFrameId","isProcessing","handleMouseMove","e","mouseEvent","mapContainer","requestAnimationFrame","rect","getBoundingClientRect","centerX","left","width","centerY","top","height","deltaX","clientX","deltaY","clientY","parallaxElements","querySelectorAll","forEach","element","intensity","translateX","translateY","htmlElement","currentTransform","style","transform","replace","handleMouseLeave","addEventListener","passive","cancelAnimationFrame","removeEventListener","savedState","localStorage","getItem","parsedState","JSON","parse","includes","stateToSave","timestamp","setItem","stringify","handleKeyDown","key","preventDefault","shiftKey","parseInt","checkMobile","window","innerWidth","handleClickOutside","target","closest","initTimer","startTime","performance","measurePerformance","endTime","renderTime","toFixed","measureTimer","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","detail","href","rel","size","right","animationDelay","slice","exp","Icon","cursor","open","display","alignItems","gap","fontSize","color","fontWeight","marginTop","floor","alt","onLoad","onError","festival","isActive","isHovered","isFocused","shouldShowLabel","zIndex","onMouseEnter","onMouseLeave","onFocus","onBlur","region","isSelected","_c2","displayName","MapSectionErrorBoundary","Component","constructor","props","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","render","role","reload","MapSectionWithErrorBoundary","_c3","$RefreshReg$"],"sources":["C:/Users/이여재/Desktop/SpringProject/Seosan-Issue-front/src/components/MapSection.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, useCallback, memo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './MapSection.css';\nimport './PremiumMinimalMap.css';\nimport { MapPin, Calendar, Users, Mountain, Waves, TreePalm, Sparkles, Trees, ChevronLeft, ChevronRight } from 'lucide-react';\nimport MapImage from '../assets/map.png';\nimport MapTitleImage from '../assets/maptitle.png';\n\ninterface Festival {\n  readonly month: string;\n  readonly name: string;\n  readonly description: string;\n  readonly details: ReadonlyArray<{\n    readonly icon: React.ElementType;\n    readonly text: string;\n  }>;\n  readonly location: {\n    readonly x: string;\n    readonly y: string;\n  };\n  readonly link?: string;\n}\n\ninterface Region {\n  readonly id: string;\n  readonly name: string;\n  readonly description?: string;\n  readonly position: {\n    readonly x: string;\n    readonly y: string;\n  };\n  readonly labelPosition?: {\n    readonly x: string;\n    readonly y: string;\n  };\n}\n\n\ninterface Experience {\n  readonly icon: React.ElementType;\n  readonly title: string;\n  readonly description: string;\n  readonly location: string;\n  readonly position: {\n    readonly x: string;\n    readonly y: string;\n  };\n  readonly link?: string;\n}\n\ninterface MapSectionProps {\n  readonly className?: string;\n}\n\n\nconst FESTIVALS: ReadonlyArray<Festival> = [\n  {\n    month: '4월',\n    name: '해미벚꽃축제',\n    description: '해미천을 따라 흐드러진 벚꽃과 다리가 어우러진 풍경으로 오작교를 떠올리게 하는 낭만을 자아냅니다.',\n    details: [\n      { icon: Calendar, text: '매년 4월경' },\n      { icon: MapPin, text: '서산시 해미면 해미천 일원' },\n      { icon: Users, text: '찾아가는 거리음악회, 농특산물 판매, 야간공연 등' }\n    ],\n    location: { x: '65%', y: '55%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6086'\n  },\n  {\n    month: '5월',\n    name: '류방택별축제',\n    description: '천문과학을 주제로 한 별빛 축제로 별자리 관측과 천문 체험이 가능합니다.',\n    details: [\n      { icon: Calendar, text: '매년 5월경' },\n      { icon: MapPin, text: '서산 류방택천문기상과학관' },\n      { icon: Sparkles, text: '별자리 관측, 천문 체험, 과학 프로그램' }\n    ],\n    location: { x: '50%', y: '45%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6093'\n  },\n  {\n    month: '6월',\n    name: '서산해미읍성축제',\n    description: '조선시대 군사 요충지였던 해미읍성에서 펼쳐지는 역사문화축제로, 전통 무예 시연과 다양한 체험 프로그램이 진행됩니다.',\n    details: [\n      { icon: Calendar, text: '매년 6월경' },\n      { icon: MapPin, text: '서산시 해미읍성 일원' },\n      { icon: Users, text: '전통 무예 시연, 역사 체험, 먹거리 장터' }\n    ],\n    location: { x: '63%', y: '70%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6105'\n  },\n  {\n    month: '7월',\n    name: '지곡왕산포서산갯마을축제',\n    description: '서산의 갯마을 문화와 해산물을 즐길 수 있는 여름 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 7월경' },\n      { icon: MapPin, text: '서산시 지곡면 왕산포' },\n      { icon: Waves, text: '갯마을 체험, 해산물 시식, 어촌 문화' }\n    ],\n    location: { x: '45%', y: '36%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6089'\n  },\n  {\n    month: '7월',\n    name: '팔봉산감자축제',\n    description: '팔봉산 자락에서 재배한 햇감자를 주제로 한 농촌 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 7월경' },\n      { icon: MapPin, text: '서산시 팔봉면' },\n      { icon: Mountain, text: '감자 수확 체험, 농산물 판매, 시골 장터' }\n    ],\n    location: { x: '32%', y: '48%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6096'\n  },\n  {\n    month: '8월',\n    name: '서산6쪽마늘축제',\n    description: '전국 최고의 품질을 자랑하는 서산 6쪽마늘을 주제로 한 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 8월경' },\n      { icon: MapPin, text: '서산시 해미면' },\n      { icon: Users, text: '마늘 요리 시식, 농산물 판매, 문화공연' }\n    ],\n    location: { x: '63%', y: '72%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6099'\n  },\n  {\n    month: '9월',\n    name: '삼길포우럭축제',\n    description: '서산의 대표 수산물인 우럭을 주제로 한 미식 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 9월경' },\n      { icon: MapPin, text: '서산시 대산읍 삼길포' },\n      { icon: Waves, text: '우럭 요리 시식, 낚시 체험, 수산물 판매' }\n    ],\n    location: { x: '42%', y: '16%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6102'\n  },\n  {\n    month: '10월',\n    name: '어리굴젓축제',\n    description: '서산의 특산물 어리굴젓과 새우젓을 만나는 전통 발효 음식 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 10월경' },\n      { icon: MapPin, text: '서산시 부석면' },\n      { icon: Users, text: '젓갈 시식, 전통 음식 체험, 특산물 판매' }\n    ],\n    location: { x: '35%', y: '80%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6141'\n  },\n  {\n    month: '10월',\n    name: '서산국화축제',\n    description: '가을의 정취를 만끽할 수 있는 서산국화축제는 다양한 국화 전시와 함께 문화공연이 펼쳐집니다.',\n    details: [\n      { icon: Calendar, text: '매년 10월경' },\n      { icon: MapPin, text: '서산시 음암면 탑곡리' },\n      { icon: Sparkles, text: '국화 전시, 문화공연, 체험 프로그램' }\n    ],\n    location: { x: '60%', y: '50%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6138'\n  },\n  {\n    month: '11월',\n    name: '서산뻘낙지먹물축제',\n    description: '서산 갯벌의 명물 뻘낙지를 주제로 한 이색 먹거리 축제입니다.',\n    details: [\n      { icon: Calendar, text: '매년 11월경' },\n      { icon: MapPin, text: '서산시 부석면' },\n      { icon: Waves, text: '뻘낙지 시식, 갯벌 체험, 먹물 요리' }\n    ],\n    location: { x: '35%', y: '80%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6144'\n  }\n] as const;\n\nconst EXPERIENCES: ReadonlyArray<Experience> = [\n  {\n    icon: Mountain,\n    title: '서산 경주김씨 고택',\n    description: '전통 한옥의 아름다움을 간직한 고택 체험',\n    location: '해미면',\n    position: { x: '63%', y: '72%' },\n    link: 'https://blog.naver.com/gyeam'\n  },\n  {\n    icon: Mountain,\n    title: '서산 유기방가옥',\n    description: '조선시대 전통 가옥 체험',\n    location: '운산면',\n    position: { x: '68%', y: '58%' },\n    link: 'http://xn--o39am5bv7vomeopa05vdxb.gajagaja.co.kr/'\n  },\n  {\n    icon: Waves,\n    title: '중리어촌체험마을',\n    description: '어촌 생활과 해양 생태 체험',\n    location: '지곡면',\n    position: { x: '45%', y: '36%' },\n    link: 'http://중리어촌체험마을.kr'\n  },\n  {\n    icon: Waves,\n    title: '웅도어촌체험휴양마을',\n    description: '서해 어촌의 일상을 체험하는 휴양마을',\n    location: '대산읍',\n    position: { x: '42%', y: '16%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=6189&bbsNo=1744&nttNo=243759'\n  },\n  {\n    icon: Trees,\n    title: '방길동마을',\n    description: '농촌 체험과 전통 문화가 살아있는 마을',\n    location: '성연면',\n    position: { x: '48%', y: '47%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=129332'\n  },\n  {\n    icon: Sparkles,\n    title: '별마을',\n    description: '별빛 가득한 천문 관측 체험마을',\n    location: '인지면',\n    position: { x: '42%', y: '66%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=129333'\n  },\n  {\n    icon: Mountain,\n    title: '한다리전통체험마을',\n    description: '전통 문화와 농촌 체험이 어우러진 마을',\n    location: '고북면',\n    position: { x: '55%', y: '86%' },\n    link: 'https://handari.weebly.com/'\n  },\n  {\n    icon: Trees,\n    title: '초록꿈틀마을',\n    description: '친환경 농업과 자연 생태 체험',\n    location: '팔봉면',\n    position: { x: '32%', y: '48%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=970&bbsNo=475&nttNo=242553'\n  },\n  {\n    icon: TreePalm,\n    title: '난사랑방',\n    description: '난초 재배와 원예 체험',\n    location: '음암면',\n    position: { x: '60%', y: '50%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=110638'\n  },\n  {\n    icon: Trees,\n    title: '과학딸기농장',\n    description: '첨단 농법으로 재배하는 딸기 체험',\n    location: '성연면',\n    position: { x: '50%', y: '45%' },\n    link: 'http://www.winesb.co.kr'\n  },\n  {\n    icon: Trees,\n    title: '꼼방울',\n    description: '전통 발효 식품 만들기 체험',\n    location: '부석면',\n    position: { x: '35%', y: '80%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=191278'\n  },\n  {\n    icon: Trees,\n    title: '나눔농장',\n    description: '유기농 채소 수확 체험',\n    location: '동문동',\n    position: { x: '49%', y: '52%' },\n    link: 'https://www.seosan.go.kr/tour/selectBbsNttView.do?key=969&bbsNo=476&nttNo=191280'\n  },\n  {\n    icon: Trees,\n    title: '나무테크 나무야',\n    description: '목공예와 나무 공방 체험',\n    location: '수석동',\n    position: { x: '52%', y: '58%' },\n    link: 'https://blog.naver.com/leejeel'\n  },\n  {\n    icon: Mountain,\n    title: '부석사 템플스테이',\n    description: '천년고찰에서의 사찰 문화 체험',\n    location: '부석면',\n    position: { x: '33%', y: '78%' },\n    link: 'https://www.seosan.go.kr/tour/contents.do?key=6148'\n  },\n  {\n    icon: Mountain,\n    title: '서광사 템플스테이',\n    description: '명상과 참선으로 마음의 평화를 찾는 시간',\n    location: '석남동',\n    position: { x: '48%', y: '66%' },\n    link: 'http://www.seogwangsa.or.kr/'\n  },\n  {\n    icon: Mountain,\n    title: '용현리 마애여래삼존상',\n    description: '백제의 미소를 간직한 국보 제84호',\n    location: '용현리',\n    position: { x: '35%', y: '65%' }\n  },\n  {\n    icon: Waves,\n    title: '가로림만 갯벌 체험',\n    description: '서해안 최대의 내만 갯벌 생태 체험',\n    location: '가로림만',\n    position: { x: '25%', y: '35%' }\n  },\n  {\n    icon: TreePalm,\n    title: '팜카밀레 허브농원',\n    description: '200여 종의 허브와 함께하는 힐링',\n    location: '팔봉면',\n    position: { x: '75%', y: '70%' }\n  }\n] as const;\n\nconst REGIONS: ReadonlyArray<Region> = [\n  // 북부 지역\n  { id: 'daesan', name: '대산읍', description: '석유화학단지', position: { x: '42%', y: '16%' } },\n  { id: 'jigok', name: '지곡면', description: '농촌체험마을', position: { x: '45%', y: '36%' } },\n  \n  // 서부 지역\n  { id: 'palbong', name: '팔봉면', description: '팔봉산 관광지', position: { x: '32%', y: '48%' } },\n  \n  // 중앙 지역\n  { id: 'seongyeon', name: '성연면', description: '전통시장', position: { x: '48%', y: '47%' } },\n  { id: 'buchun', name: '부춘동', description: '행정중심', position: { x: '42%', y: '52%' } },  // 위로 이동 후 왼쪽\n  { id: 'dongmun1', name: '동문1동', description: '구도심', position: { x: '49%', y: '52%' } }, // 위로 이동 후 왼쪽\n  { id: 'dongmun2', name: '동문2동', description: '상업지구', position: { x: '44%', y: '57%' } }, // 위로 이동 후 살짝 왼쪽\n  { id: 'suseok', name: '수석동', description: '주거지역', position: { x: '52%', y: '58%' } },   // 위로\n  { id: 'seoknam', name: '석남동', description: '신도시', position: { x: '48%', y: '66%' } },\n  \n  // 동부 지역\n  { id: 'eumam', name: '음암면', description: '온천관광', position: { x: '60%', y: '50%' } },\n  { id: 'unsan', name: '운산면', description: '역사문화', position: { x: '68%', y: '58%' } },  // 원래 위치로 복원\n  \n  // 남부 지역\n  { id: 'inji', name: '인지면', description: '자연생태', position: { x: '42%', y: '66%' } },\n  { id: 'buseok', name: '부석면', description: '사찰문화', position: { x: '35%', y: '80%' } },\n  { id: 'gobuk', name: '고북면', description: '농업지대', position: { x: '55%', y: '86%' } },\n  { id: 'haemi', name: '해미면', description: '해미읍성', position: { x: '63%', y: '72%' } }\n] as const;\n\nconst MapSection: React.FC<MapSectionProps> = memo(({ className }) => {\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState<'festival' | 'experience'>('festival');\n  const [currentFestivalIndex, setCurrentFestivalIndex] = useState(0);\n  const [currentExperienceIndex, setCurrentExperienceIndex] = useState(0);\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [hoveredMarkerId, setHoveredMarkerId] = useState<string | null>(null);\n  const [focusedMarkerId, setFocusedMarkerId] = useState<string | null>(null);\n  const [loadingState, setLoadingState] = useState<'idle' | 'loading' | 'loaded' | 'error'>('idle');\n  const [retryCount, setRetryCount] = useState(0);\n  const sectionRef = useRef<HTMLDivElement>(null);\n  const loadingTimeoutRef = useRef<NodeJS.Timeout>();\n  const [hoveredRegion, setHoveredRegion] = useState<string | null>(null);\n  const [selectedRegion, setSelectedRegion] = useState<string | null>(null);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Memoized computations\n  const currentFestival = useMemo(() => FESTIVALS[currentFestivalIndex], [currentFestivalIndex]);\n  \n  // Optimized callbacks with advanced UX patterns\n  const handleTabChange = useCallback((tab: 'festival' | 'experience') => {\n    if (tab !== activeTab) {\n      // Clear any hover states when switching tabs for clean transition\n      setHoveredMarkerId(null);\n      setFocusedMarkerId(null);\n      \n      // Add micro-delay for smooth visual transition\n      const tabElement = document.querySelector(`.final-tab[aria-pressed=\"false\"]`);\n      if (tabElement) {\n        tabElement.classList.add('switching');\n        setTimeout(() => {\n          tabElement.classList.remove('switching');\n        }, 300);\n      }\n      \n      setActiveTab(tab);\n    }\n  }, [activeTab]);\n\n  const handlePrevFestival = useCallback(() => {\n    // Add smooth transition effect\n    const currentMarker = document.querySelector('.final-marker.active');\n    if (currentMarker) {\n      currentMarker.classList.add('transitioning-out');\n      setTimeout(() => {\n        currentMarker?.classList.remove('transitioning-out');\n      }, 200);\n    }\n    \n    setCurrentFestivalIndex((prev: number) => prev > 0 ? prev - 1 : FESTIVALS.length - 1);\n  }, []);\n\n  const handleNextFestival = useCallback(() => {\n    // Add smooth transition effect\n    const currentMarker = document.querySelector('.final-marker.active');\n    if (currentMarker) {\n      currentMarker.classList.add('transitioning-out');\n      setTimeout(() => {\n        currentMarker?.classList.remove('transitioning-out');\n      }, 200);\n    }\n    \n    setCurrentFestivalIndex((prev: number) => (prev + 1) % FESTIVALS.length);\n  }, []);\n\n  const handlePrevExperience = useCallback(() => {\n    setCurrentExperienceIndex((prev: number) => {\n      if (prev > 0) {\n        return prev - 4; // 4개씩 이동\n      }\n      // 마지막 페이지로 이동\n      const totalPages = Math.ceil(EXPERIENCES.length / 4);\n      return (totalPages - 1) * 4;\n    });\n  }, []);\n\n  const handleNextExperience = useCallback(() => {\n    setCurrentExperienceIndex((prev: number) => {\n      const nextIndex = prev + 4; // 4개씩 이동\n      if (nextIndex >= EXPERIENCES.length) {\n        return 0; // 처음으로 돌아가기\n      }\n      return nextIndex;\n    });\n  }, []);\n\n  const handleFestivalDotClick = useCallback((index: number) => {\n    if (index !== currentFestivalIndex) {\n      setCurrentFestivalIndex(index);\n    }\n  }, [currentFestivalIndex]);\n\n  const handleMapLoad = useCallback(() => {\n    if (loadingTimeoutRef.current) {\n      clearTimeout(loadingTimeoutRef.current);\n    }\n    setLoadingState('loaded');\n    setIsMapLoaded(true);\n    setRetryCount(0);\n  }, []);\n\n  const handleMapError = useCallback(() => {\n    if (loadingTimeoutRef.current) {\n      clearTimeout(loadingTimeoutRef.current);\n    }\n    \n    if (retryCount < 3) {\n      console.warn(`Map image failed to load, retrying... (${retryCount + 1}/3)`);\n      setRetryCount(prev => prev + 1);\n      setLoadingState('loading');\n      \n      // Retry after a delay\n      setTimeout(() => {\n        const img = document.querySelector('.map-image-final') as HTMLImageElement;\n        if (img) {\n          img.src = img.src + '?retry=' + (retryCount + 1);\n        }\n      }, 1000 * (retryCount + 1));\n    } else {\n      console.error('Map image failed to load after 3 retries');\n      setLoadingState('error');\n      setIsMapLoaded(true); // Still show interface\n    }\n  }, [retryCount]);\n\n  const handleRetryLoad = useCallback(() => {\n    setLoadingState('loading');\n    setRetryCount(0);\n    const img = document.querySelector('.map-image-final') as HTMLImageElement;\n    if (img) {\n      img.src = img.src.split('?')[0] + '?retry=' + Date.now();\n    }\n  }, []);\n\n  // Marker interaction handlers\n  const handleMarkerMouseEnter = useCallback((markerId: string) => {\n    setHoveredMarkerId(markerId);\n  }, []);\n\n  const handleMarkerMouseLeave = useCallback(() => {\n    setHoveredMarkerId(null);\n  }, []);\n\n  const handleMarkerFocus = useCallback((markerId: string) => {\n    setFocusedMarkerId(markerId);\n  }, []);\n\n  const handleMarkerBlur = useCallback(() => {\n    setFocusedMarkerId(null);\n  }, []);\n\n  // 지역 클릭 핸들러\n  const handleRegionClick = useCallback((regionId: string, regionName: string) => {\n    if (isMobile) {\n      // 모바일에서는 첫 탭에서 정보 표시, 두 번째 탭에서 이동\n      if (selectedRegion === regionId) {\n        navigate(`/explore?region=${encodeURIComponent(regionName)}`, {\n          state: { scrollToTop: true }\n        });\n      } else {\n        setSelectedRegion(regionId);\n      }\n    } else {\n      // 데스크톱에서는 바로 이동\n      navigate(`/explore?region=${encodeURIComponent(regionName)}`, {\n        state: { scrollToTop: true }\n      });\n    }\n  }, [navigate, isMobile, selectedRegion]);\n\n  // 지역 호버 핸들러\n  const handleRegionMouseEnter = useCallback((regionId: string) => {\n    setHoveredRegion(regionId);\n  }, []);\n\n  const handleRegionMouseLeave = useCallback(() => {\n    setHoveredRegion(null);\n  }, []);\n\n  // Intersection Observer for fade-in animation\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    if (sectionRef.current) {\n      observer.observe(sectionRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  // Auto-slide with proper cleanup\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (activeTab === 'festival') {\n        setCurrentFestivalIndex((prev: number) => (prev + 1) % FESTIVALS.length);\n      } else if (activeTab === 'experience') {\n        setCurrentExperienceIndex((prev: number) => {\n          const nextIndex = prev + 4;\n          return nextIndex >= EXPERIENCES.length ? 0 : nextIndex;\n        });\n      }\n    }, 8000);\n    return () => clearInterval(interval);\n  }, [activeTab]);\n\n  // Optimized parallax effect with debouncing\n  useEffect(() => {\n    let animationFrameId: number;\n    let isProcessing = false;\n\n    const handleMouseMove = (e: Event) => {\n      if (isProcessing) return;\n      \n      const mouseEvent = e as MouseEvent;\n      const mapContainer = document.querySelector('.final-map-container');\n      if (!mapContainer) return;\n\n      isProcessing = true;\n      animationFrameId = requestAnimationFrame(() => {\n        try {\n          const rect = mapContainer.getBoundingClientRect();\n          const centerX = rect.left + rect.width / 2;\n          const centerY = rect.top + rect.height / 2;\n          \n          const deltaX = (mouseEvent.clientX - centerX) / rect.width;\n          const deltaY = (mouseEvent.clientY - centerY) / rect.height;\n          \n          const parallaxElements = mapContainer.querySelectorAll('.final-marker, .final-exp-marker, .tree-icon, .mountain-icon');\n          \n          parallaxElements.forEach((element, index) => {\n            const intensity = (index % 3 + 1) * 1.5; // Reduced intensity for smoother movement\n            const translateX = deltaX * intensity;\n            const translateY = deltaY * intensity;\n            \n            const htmlElement = element as HTMLElement;\n            const currentTransform = htmlElement.style.transform.replace(/translate\\([^)]*\\)/g, '');\n            htmlElement.style.transform = `${currentTransform} translate(${translateX}px, ${translateY}px)`;\n          });\n        } catch (error) {\n          console.warn('Parallax effect error:', error);\n        } finally {\n          isProcessing = false;\n        }\n      });\n    };\n\n    const handleMouseLeave = () => {\n      const mapContainer = document.querySelector('.final-map-container');\n      if (!mapContainer) return;\n\n      const parallaxElements = mapContainer.querySelectorAll('.final-marker, .final-exp-marker, .tree-icon, .mountain-icon');\n      parallaxElements.forEach((element) => {\n        const htmlElement = element as HTMLElement;\n        htmlElement.style.transform = htmlElement.style.transform.replace(/translate\\([^)]*\\)/g, '');\n      });\n    };\n\n    const mapContainer = document.querySelector('.final-map-container');\n    if (mapContainer) {\n      mapContainer.addEventListener('mousemove', handleMouseMove, { passive: true });\n      mapContainer.addEventListener('mouseleave', handleMouseLeave, { passive: true });\n    }\n\n    return () => {\n      if (animationFrameId) {\n        cancelAnimationFrame(animationFrameId);\n      }\n      if (mapContainer) {\n        mapContainer.removeEventListener('mousemove', handleMouseMove);\n        mapContainer.removeEventListener('mouseleave', handleMouseLeave);\n      }\n    };\n  }, []);\n\n  // State persistence\n  useEffect(() => {\n    try {\n      const savedState = localStorage.getItem('seosan-map-state');\n      if (savedState) {\n        const parsedState = JSON.parse(savedState);\n        if (parsedState.activeTab && ['festival', 'experience'].includes(parsedState.activeTab)) {\n          setActiveTab(parsedState.activeTab);\n        }\n        if (typeof parsedState.currentFestivalIndex === 'number' && \n            parsedState.currentFestivalIndex >= 0 && \n            parsedState.currentFestivalIndex < FESTIVALS.length) {\n          setCurrentFestivalIndex(parsedState.currentFestivalIndex);\n        }\n        if (typeof parsedState.currentExperienceIndex === 'number' && \n            parsedState.currentExperienceIndex >= 0 && \n            parsedState.currentExperienceIndex < EXPERIENCES.length) {\n          setCurrentExperienceIndex(parsedState.currentExperienceIndex);\n        }\n      }\n    } catch (error) {\n      console.warn('Failed to load saved map state:', error);\n    }\n  }, []);\n\n  // Save state changes\n  useEffect(() => {\n    if (isInitialized) {\n      try {\n        const stateToSave = {\n          activeTab,\n          currentFestivalIndex,\n          currentExperienceIndex,\n          timestamp: Date.now()\n        };\n        localStorage.setItem('seosan-map-state', JSON.stringify(stateToSave));\n      } catch (error) {\n        console.warn('Failed to save map state:', error);\n      }\n    }\n  }, [activeTab, currentFestivalIndex, currentExperienceIndex, isInitialized]);\n\n  // Advanced keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Only handle keyboard events when section is visible\n      if (!isVisible) return;\n      \n      switch (e.key) {\n        case 'ArrowLeft':\n          e.preventDefault();\n          if (activeTab === 'festival') {\n            handlePrevFestival();\n          } else if (activeTab === 'experience') {\n            handlePrevExperience();\n          }\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          if (activeTab === 'festival') {\n            handleNextFestival();\n          } else if (activeTab === 'experience') {\n            handleNextExperience();\n          }\n          break;\n        case 'Tab':\n          if (e.shiftKey) {\n            handleTabChange('festival');\n          } else {\n            handleTabChange('experience');\n          }\n          break;\n        case '1':\n        case '2':\n        case '3':\n          if (activeTab === 'festival') {\n            const index = parseInt(e.key) - 1;\n            if (index >= 0 && index < FESTIVALS.length) {\n              e.preventDefault();\n              handleFestivalDotClick(index);\n            }\n          }\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isVisible, activeTab, handlePrevFestival, handleNextFestival, handlePrevExperience, handleNextExperience, handleTabChange, handleFestivalDotClick]);\n\n  // 모바일 감지\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // 외부 클릭시 선택 해제\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      if (!target.closest('.region-marker') && selectedRegion) {\n        setSelectedRegion(null);\n      }\n    };\n\n    if (isMobile) {\n      document.addEventListener('click', handleClickOutside);\n      return () => document.removeEventListener('click', handleClickOutside);\n    }\n  }, [isMobile, selectedRegion]);\n\n  // Component initialization with advanced loading\n  useEffect(() => {\n    setLoadingState('loading');\n    \n    // Set a timeout for loading state\n    loadingTimeoutRef.current = setTimeout(() => {\n      setLoadingState('error');\n      console.warn('Map loading timeout');\n    }, 10000); // 10 second timeout\n    \n    const initTimer = setTimeout(() => {\n      setIsInitialized(true);\n    }, 100);\n\n    return () => {\n      clearTimeout(initTimer);\n      if (loadingTimeoutRef.current) {\n        clearTimeout(loadingTimeoutRef.current);\n      }\n    };\n  }, []); // Remove loadingState dependency to avoid infinite loop\n\n  // Performance monitoring and memory management\n  useEffect(() => {\n    let startTime = performance.now();\n    \n    const measurePerformance = () => {\n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      if (renderTime > 100) { // Log if render takes more than 100ms\n        console.warn(`MapSection render took ${renderTime.toFixed(2)}ms`);\n      }\n    };\n\n    // Measure performance after initial render\n    const measureTimer = setTimeout(measurePerformance, 0);\n    \n    return () => {\n      clearTimeout(measureTimer);\n      if (loadingTimeoutRef.current) {\n        clearTimeout(loadingTimeoutRef.current);\n      }\n      \n      // Cleanup any remaining event listeners or intervals\n      setHoveredMarkerId(null);\n      setFocusedMarkerId(null);\n    };\n  }, []);\n\n  return (\n    <section className={`map-section-final ${isVisible ? 'visible' : ''}`} ref={sectionRef} aria-label=\"서산 축제 및 체험 지도\">\n      {/* Wave Background */}\n      <div className=\"final-background\">\n        <div className=\"wave-background\" />\n        <div className=\"wave-layer-1\" />\n        <div className=\"wave-layer-2\" />\n      </div>\n\n      {/* Main Container */}\n      <div className=\"final-container\">\n        {/* Tab Navigation - Top Left */}\n        <div className=\"final-tabs\">\n          <button \n            className={`final-tab ${activeTab === 'festival' ? 'active' : ''}`}\n            onClick={() => handleTabChange('festival')}\n            aria-pressed={activeTab === 'festival'}\n            aria-label=\"서산 축제 탭\"\n          >\n            <span className=\"tab-label\">서산 축제</span>\n          </button>\n          <button \n            className={`final-tab ${activeTab === 'experience' ? 'active' : ''}`}\n            onClick={() => handleTabChange('experience')}\n            aria-pressed={activeTab === 'experience'}\n            aria-label=\"서산 체험 탭\"\n          >\n            <span className=\"tab-label\">서산 체험</span>\n          </button>\n        </div>\n\n        {/* Content Layout */}\n        <div className=\"final-content\">\n          {/* Left Info Panel */}\n          <div className=\"left-panel\">\n            <div className=\"final-info-panel\">\n              {activeTab === 'festival' && (\n                <div className=\"festival-panel-content\">\n                  <div className=\"festival-badge-container\">\n                    <span className=\"festival-title-badge\">\n                      {currentFestival.month} {currentFestival.name}\n                    </span>\n                  </div>\n                  \n                  <p className=\"festival-description-final\">\n                    {currentFestival.description}\n                  </p>\n                  \n                  <div className=\"festival-details-final\">\n                    {currentFestival.details.map((detail, index) => {\n                      return (\n                        <div key={index} className=\"detail-row-final\">\n                          <div className=\"detail-content-final\">\n                            <span className=\"detail-label-final\">\n                              {index === 0 ? '개최일' : index === 1 ? '장소' : '주요'}\n                            </span>\n                            <span className=\"detail-value-final\">{detail.text}</span>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {/* Link Button */}\n                  {currentFestival.link && (\n                    <div className=\"festival-link-container\">\n                      <a \n                        href={currentFestival.link} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"festival-detail-link\"\n                      >\n                        자세히 보기\n                        <span className=\"link-arrow\">→</span>\n                      </a>\n                    </div>\n                  )}\n\n                  {/* Navigation */}\n                  <div className=\"festival-nav-final\">\n                    <div className=\"nav-controls\">\n                      <button className=\"nav-arrow prev\" onClick={handlePrevFestival} aria-label=\"이전 축제 보기\">\n                        <ChevronLeft size={20} />\n                      </button>\n                      <div className=\"nav-counter\">\n                        <span className=\"current\">{currentFestivalIndex + 1}</span>\n                        <span className=\"divider\">/</span>\n                        <span className=\"total\">{FESTIVALS.length}</span>\n                      </div>\n                      <button className=\"nav-arrow next\" onClick={handleNextFestival} aria-label=\"다음 축제 보기\">\n                        <ChevronRight size={20} />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Floating Petals */}\n                  <div className=\"panel-petals\">\n                    <div className=\"floating-petal\" style={{ top: '0', left: '0' }} />\n                    <div className=\"floating-petal\" style={{ top: '20px', right: '10px', animationDelay: '2s' }} />\n                  </div>\n                </div>\n              )}\n\n              {activeTab === 'experience' && (\n                <div className=\"experience-panel-content\">\n                  <h2 className=\"experience-title-final\">\n                    자연과 함께하는\n                    <span className=\"title-highlight\"> 특별한 여행</span>\n                  </h2>\n                  \n                  <div className=\"experience-cards-final\">\n                    {EXPERIENCES.slice(currentExperienceIndex, currentExperienceIndex + 4).map((exp, index) => {\n                      const Icon = exp.icon;\n                      return (\n                        <div \n                          key={`exp-card-${currentExperienceIndex + index}`} \n                          className=\"exp-card-final\"\n                          style={{ cursor: exp.link ? 'pointer' : 'default' }}\n                          onClick={() => {\n                            if (exp.link) {\n                              window.open(exp.link, '_blank');\n                            }\n                          }}\n                        >\n                          <div className=\"exp-icon-final\">\n                            <Icon size={24} aria-hidden=\"true\" />\n                          </div>\n                          <div className=\"exp-content-final\">\n                            <h3>{exp.title}</h3>\n                            <p>{exp.description}</p>\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                              <span className=\"exp-location-tag\">{exp.location}</span>\n                              {exp.link && (\n                                <span style={{ \n                                  fontSize: '12px', \n                                  color: '#26d0ce',\n                                  fontWeight: '600'\n                                }}>\n                                  클릭 →\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n\n                  {/* Navigation for Experience */}\n                  <div className=\"festival-nav-final\" style={{ marginTop: '20px' }}>\n                    <div className=\"nav-controls\">\n                      <button className=\"nav-arrow prev\" onClick={handlePrevExperience} aria-label=\"이전 체험 보기\">\n                        <ChevronLeft size={20} />\n                      </button>\n                      <div className=\"nav-counter\">\n                        <span className=\"current\">{Math.floor(currentExperienceIndex / 4) + 1}</span>\n                        <span className=\"divider\">/</span>\n                        <span className=\"total\">{Math.ceil(EXPERIENCES.length / 4)}</span>\n                      </div>\n                      <button className=\"nav-arrow next\" onClick={handleNextExperience} aria-label=\"다음 체험 보기\">\n                        <ChevronRight size={20} />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Center Map */}\n          <div className=\"center-map\">\n            <div className=\"final-map-container\">\n              <div className=\"map-frame\">\n{loadingState === 'loading' && (\n                  <div className=\"map-loading-overlay\">\n                    <div className=\"loading-spinner\">\n                      <div className=\"spinner-ring\"></div>\n                      <div className=\"spinner-ring\"></div>\n                      <div className=\"spinner-ring\"></div>\n                    </div>\n                    <p className=\"loading-text\">\n                      {retryCount > 0 ? `재시도 중... (${retryCount}/3)` : '지도를 불러오는 중...'}\n                    </p>\n                  </div>\n                )}\n                \n                {loadingState === 'error' && (\n                  <div className=\"map-error-overlay\">\n                    <div className=\"error-icon\">⚠️</div>\n                    <p className=\"error-text\">지도를 불러올 수 없습니다</p>\n                    <button \n                      className=\"retry-button\"\n                      onClick={handleRetryLoad}\n                      aria-label=\"지도 다시 불러오기\"\n                    >\n                      다시 시도\n                    </button>\n                  </div>\n                )}\n                <img \n                  src={MapImage} \n                  alt=\"서산시 전체 지도. 축제 및 체험 장소가 표시되어 있습니다\" \n                  className={`map-image-final ${isMapLoaded ? 'loaded' : 'loading'}`}\n                  onLoad={handleMapLoad}\n                  onError={handleMapError}\n                />\n                \n                {/* Map Highlight Overlay - 제거됨 */}\n                \n                \n                {/* Map Decorations - 제거됨 */}\n                \n                {/* Festival Markers */}\n                {activeTab === 'festival' && FESTIVALS.map((festival, index) => {\n                  const markerId = `festival-${index}`;\n                  const isActive = index === currentFestivalIndex;\n                  const isHovered = hoveredMarkerId === markerId;\n                  const isFocused = focusedMarkerId === markerId;\n                  const shouldShowLabel = isActive || isHovered || isFocused;\n                  \n                  return (\n                    <button \n                      key={markerId}\n                      className={`final-marker ${isActive ? 'active' : ''} ${isHovered ? 'hovered' : ''} ${isFocused ? 'focused' : ''}`}\n                      style={{ \n                        left: festival.location.x, \n                        top: festival.location.y,\n                        zIndex: isActive ? 100 : (isHovered || isFocused) ? 50 : 10\n                      }}\n                      onClick={() => handleFestivalDotClick(index)}\n                      onMouseEnter={() => handleMarkerMouseEnter(markerId)}\n                      onMouseLeave={handleMarkerMouseLeave}\n                      onFocus={() => handleMarkerFocus(markerId)}\n                      onBlur={handleMarkerBlur}\n                      aria-label={`${festival.name} (${festival.month}) 마커`}\n                      aria-pressed={isActive}\n                    >\n                      <div className=\"marker-pin\">\n                        <div className=\"pin-head\" />\n                        <div className=\"pin-center\" />\n                      </div>\n                      <div className={`marker-label-final ${shouldShowLabel ? 'visible' : 'hidden'}`}>\n                        <div className=\"festival-name\">{festival.name}</div>\n                        <div className=\"festival-month\">{festival.month}</div>\n                      </div>\n                    </button>\n                  );\n                })}\n\n                {/* Region Clickable Areas */}\n                {REGIONS.map((region, index) => {\n                  const isHovered = hoveredRegion === region.id;\n                  const isSelected = selectedRegion === region.id;\n                  const isActive = isMobile && isSelected;\n                  \n                  return (\n                    <button\n                      key={region.id}\n                      className={`region-marker ${isHovered ? 'hovered' : ''} ${isSelected ? 'selected' : ''} ${isActive ? 'mobile-active' : ''}`}\n                      style={{\n                        left: region.position.x,\n                        top: region.position.y,\n                        '--index': index\n                      } as React.CSSProperties}\n                      onClick={() => handleRegionClick(region.id, region.name)}\n                      onMouseEnter={() => handleRegionMouseEnter(region.id)}\n                      onMouseLeave={handleRegionMouseLeave}\n                      aria-label={`${region.name} 지역`}\n                      aria-pressed={isSelected}\n                    >\n                      <div className=\"info-card\">\n                        <h3 className=\"region-title\">{region.name}</h3>\n                      </div>\n                    </button>\n                  );\n                })}\n                \n                {/* Experience Markers - 제거됨 */}\n              </div>\n            </div>\n          </div>\n\n          {/* Right Area - Title and Character */}\n          <div className=\"right-area\">\n            <div className=\"final-header\">\n              <img \n                src={MapTitleImage} \n                alt=\"마을 구석구석, 서산 정복하기! 타이틀\" \n                className=\"final-title-image\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n});\n\nMapSection.displayName = 'MapSection';\n\n// Error Boundary Component\nclass MapSectionErrorBoundary extends React.Component<\n  { children: React.ReactNode },\n  { hasError: boolean; error?: Error }\n> {\n  constructor(props: { children: React.ReactNode }) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('MapSection Error:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <section className=\"map-section-error\" role=\"alert\" aria-live=\"polite\">\n          <div className=\"error-container\">\n            <h2>지도를 불러오는 중 오류가 발생했습니다</h2>\n            <p>페이지를 새로고침하거나 잠시 후 다시 시도해주세요.</p>\n            <button \n              onClick={() => window.location.reload()}\n              className=\"error-reload-btn\"\n            >\n              새로고침\n            </button>\n          </div>\n        </section>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// Wrapped component with error boundary\nconst MapSectionWithErrorBoundary: React.FC<MapSectionProps> = (props) => (\n  <MapSectionErrorBoundary>\n    <MapSection {...props} />\n  </MapSectionErrorBoundary>\n);\n\nexport default MapSectionWithErrorBoundary;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,IAAI,QAAQ,OAAO;AACtF,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,kBAAkB;AACzB,OAAO,yBAAyB;AAChC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,WAAW,EAAEC,YAAY,QAAQ,cAAc;AAC7H,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,aAAa,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAiDnD,MAAMC,SAAkC,GAAG,CACzC;EACEC,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,wDAAwD;EACrEC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAiB,CAAC,EACxC;IAAED,IAAI,EAAEjB,KAAK;IAAEkB,IAAI,EAAE;EAA8B,CAAC,CACrD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,0CAA0C;EACvDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAgB,CAAC,EACvC;IAAED,IAAI,EAAEb,QAAQ;IAAEc,IAAI,EAAE;EAAyB,CAAC,CACnD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,UAAU;EAChBC,WAAW,EAAE,kEAAkE;EAC/EC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAc,CAAC,EACrC;IAAED,IAAI,EAAEjB,KAAK;IAAEkB,IAAI,EAAE;EAA0B,CAAC,CACjD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,cAAc;EACpBC,WAAW,EAAE,oCAAoC;EACjDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAc,CAAC,EACrC;IAAED,IAAI,EAAEf,KAAK;IAAEgB,IAAI,EAAE;EAAwB,CAAC,CAC/C;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,SAAS;EACfC,WAAW,EAAE,mCAAmC;EAChDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAU,CAAC,EACjC;IAAED,IAAI,EAAEhB,QAAQ;IAAEiB,IAAI,EAAE;EAA0B,CAAC,CACpD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,UAAU;EAChBC,WAAW,EAAE,uCAAuC;EACpDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAU,CAAC,EACjC;IAAED,IAAI,EAAEjB,KAAK;IAAEkB,IAAI,EAAE;EAAyB,CAAC,CAChD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,SAAS;EACfC,WAAW,EAAE,iCAAiC;EAC9CC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAS,CAAC,EAClC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAc,CAAC,EACrC;IAAED,IAAI,EAAEf,KAAK;IAAEgB,IAAI,EAAE;EAA0B,CAAC,CACjD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,KAAK;EACZC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,wCAAwC;EACrDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAU,CAAC,EACnC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAU,CAAC,EACjC;IAAED,IAAI,EAAEjB,KAAK;IAAEkB,IAAI,EAAE;EAA0B,CAAC,CACjD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,KAAK;EACZC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,qDAAqD;EAClEC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAU,CAAC,EACnC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAc,CAAC,EACrC;IAAED,IAAI,EAAEb,QAAQ;IAAEc,IAAI,EAAE;EAAuB,CAAC,CACjD;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACET,KAAK,EAAE,KAAK;EACZC,IAAI,EAAE,WAAW;EACjBC,WAAW,EAAE,oCAAoC;EACjDC,OAAO,EAAE,CACP;IAAEC,IAAI,EAAElB,QAAQ;IAAEmB,IAAI,EAAE;EAAU,CAAC,EACnC;IAAED,IAAI,EAAEnB,MAAM;IAAEoB,IAAI,EAAE;EAAU,CAAC,EACjC;IAAED,IAAI,EAAEf,KAAK;IAAEgB,IAAI,EAAE;EAAuB,CAAC,CAC9C;EACDC,QAAQ,EAAE;IAAEC,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,CACO;AAEV,MAAMC,WAAsC,GAAG,CAC7C;EACEN,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,YAAY;EACnBT,WAAW,EAAE,wBAAwB;EACrCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,UAAU;EACjBT,WAAW,EAAE,eAAe;EAC5BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEf,KAAK;EACXsB,KAAK,EAAE,UAAU;EACjBT,WAAW,EAAE,iBAAiB;EAC9BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEf,KAAK;EACXsB,KAAK,EAAE,YAAY;EACnBT,WAAW,EAAE,sBAAsB;EACnCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,OAAO;EACdT,WAAW,EAAE,uBAAuB;EACpCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEb,QAAQ;EACdoB,KAAK,EAAE,KAAK;EACZT,WAAW,EAAE,mBAAmB;EAChCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,WAAW;EAClBT,WAAW,EAAE,uBAAuB;EACpCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,QAAQ;EACfT,WAAW,EAAE,kBAAkB;EAC/BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEd,QAAQ;EACdqB,KAAK,EAAE,MAAM;EACbT,WAAW,EAAE,cAAc;EAC3BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,QAAQ;EACfT,WAAW,EAAE,oBAAoB;EACjCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,KAAK;EACZT,WAAW,EAAE,iBAAiB;EAC9BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,MAAM;EACbT,WAAW,EAAE,cAAc;EAC3BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEZ,KAAK;EACXmB,KAAK,EAAE,UAAU;EACjBT,WAAW,EAAE,eAAe;EAC5BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,WAAW;EAClBT,WAAW,EAAE,kBAAkB;EAC/BI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,WAAW;EAClBT,WAAW,EAAE,wBAAwB;EACrCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM,CAAC;EAChCC,IAAI,EAAE;AACR,CAAC,EACD;EACEL,IAAI,EAAEhB,QAAQ;EACduB,KAAK,EAAE,aAAa;EACpBT,WAAW,EAAE,qBAAqB;EAClCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AACjC,CAAC,EACD;EACEJ,IAAI,EAAEf,KAAK;EACXsB,KAAK,EAAE,YAAY;EACnBT,WAAW,EAAE,qBAAqB;EAClCI,QAAQ,EAAE,MAAM;EAChBM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AACjC,CAAC,EACD;EACEJ,IAAI,EAAEd,QAAQ;EACdqB,KAAK,EAAE,WAAW;EAClBT,WAAW,EAAE,qBAAqB;EAClCI,QAAQ,EAAE,KAAK;EACfM,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AACjC,CAAC,CACO;AAEV,MAAMK,OAA8B,GAAG;AACrC;AACA;EAAEC,EAAE,EAAE,QAAQ;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,QAAQ;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EACtF;EAAEM,EAAE,EAAE,OAAO;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,QAAQ;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAErF;AACA;EAAEM,EAAE,EAAE,SAAS;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,SAAS;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAExF;AACA;EAAEM,EAAE,EAAE,WAAW;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EACvF;EAAEM,EAAE,EAAE,QAAQ;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAAG;AACvF;EAAEM,EAAE,EAAE,UAAU;EAAEb,IAAI,EAAE,MAAM;EAAEC,WAAW,EAAE,KAAK;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAAE;AACxF;EAAEM,EAAE,EAAE,UAAU;EAAEb,IAAI,EAAE,MAAM;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAAE;AACzF;EAAEM,EAAE,EAAE,QAAQ;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAAI;AACxF;EAAEM,EAAE,EAAE,SAAS;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,KAAK;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAEpF;AACA;EAAEM,EAAE,EAAE,OAAO;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EACnF;EAAEM,EAAE,EAAE,OAAO;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC;AAAG;;AAEtF;AACA;EAAEM,EAAE,EAAE,MAAM;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EAClF;EAAEM,EAAE,EAAE,QAAQ;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EACpF;EAAEM,EAAE,EAAE,OAAO;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,EACnF;EAAEM,EAAE,EAAE,OAAO;EAAEb,IAAI,EAAE,KAAK;EAAEC,WAAW,EAAE,MAAM;EAAEU,QAAQ,EAAE;IAAEL,CAAC,EAAE,KAAK;IAAEC,CAAC,EAAE;EAAM;AAAE,CAAC,CAC3E;AAEV,MAAMO,UAAqC,gBAAAC,EAAA,cAAGjC,IAAI,CAAAkC,EAAA,GAAAD,EAAA,CAAC,CAAC;EAAEE;AAAU,CAAC,KAAK;EAAAF,EAAA;EACpE,MAAMG,QAAQ,GAAGnC,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACoC,SAAS,EAAEC,YAAY,CAAC,GAAG3C,QAAQ,CAA4B,UAAU,CAAC;EACjF,MAAM,CAAC4C,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG7C,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAAC8C,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/C,QAAQ,CAAC,CAAC,CAAC;EACvE,MAAM,CAACgD,SAAS,EAAEC,YAAY,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACkD,WAAW,EAAEC,cAAc,CAAC,GAAGnD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACoD,aAAa,EAAEC,gBAAgB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACsD,eAAe,EAAEC,kBAAkB,CAAC,GAAGvD,QAAQ,CAAgB,IAAI,CAAC;EAC3E,MAAM,CAACwD,eAAe,EAAEC,kBAAkB,CAAC,GAAGzD,QAAQ,CAAgB,IAAI,CAAC;EAC3E,MAAM,CAAC0D,YAAY,EAAEC,eAAe,CAAC,GAAG3D,QAAQ,CAA0C,MAAM,CAAC;EACjG,MAAM,CAAC4D,UAAU,EAAEC,aAAa,CAAC,GAAG7D,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM8D,UAAU,GAAG5D,MAAM,CAAiB,IAAI,CAAC;EAC/C,MAAM6D,iBAAiB,GAAG7D,MAAM,CAAiB,CAAC;EAClD,MAAM,CAAC8D,aAAa,EAAEC,gBAAgB,CAAC,GAAGjE,QAAQ,CAAgB,IAAI,CAAC;EACvE,MAAM,CAACkE,cAAc,EAAEC,iBAAiB,CAAC,GAAGnE,QAAQ,CAAgB,IAAI,CAAC;EACzE,MAAM,CAACoE,QAAQ,EAAEC,WAAW,CAAC,GAAGrE,QAAQ,CAAC,KAAK,CAAC;;EAE/C;EACA,MAAMsE,eAAe,GAAGnE,OAAO,CAAC,MAAMkB,SAAS,CAACuB,oBAAoB,CAAC,EAAE,CAACA,oBAAoB,CAAC,CAAC;;EAE9F;EACA,MAAM2B,eAAe,GAAGnE,WAAW,CAAEoE,GAA8B,IAAK;IACtE,IAAIA,GAAG,KAAK9B,SAAS,EAAE;MACrB;MACAa,kBAAkB,CAAC,IAAI,CAAC;MACxBE,kBAAkB,CAAC,IAAI,CAAC;;MAExB;MACA,MAAMgB,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,kCAAkC,CAAC;MAC7E,IAAIF,UAAU,EAAE;QACdA,UAAU,CAACG,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;QACrCC,UAAU,CAAC,MAAM;UACfL,UAAU,CAACG,SAAS,CAACG,MAAM,CAAC,WAAW,CAAC;QAC1C,CAAC,EAAE,GAAG,CAAC;MACT;MAEApC,YAAY,CAAC6B,GAAG,CAAC;IACnB;EACF,CAAC,EAAE,CAAC9B,SAAS,CAAC,CAAC;EAEf,MAAMsC,kBAAkB,GAAG5E,WAAW,CAAC,MAAM;IAC3C;IACA,MAAM6E,aAAa,GAAGP,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;IACpE,IAAIM,aAAa,EAAE;MACjBA,aAAa,CAACL,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChDC,UAAU,CAAC,MAAM;QACfG,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEL,SAAS,CAACG,MAAM,CAAC,mBAAmB,CAAC;MACtD,CAAC,EAAE,GAAG,CAAC;IACT;IAEAlC,uBAAuB,CAAEqC,IAAY,IAAKA,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG7D,SAAS,CAAC8D,MAAM,GAAG,CAAC,CAAC;EACvF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,kBAAkB,GAAGhF,WAAW,CAAC,MAAM;IAC3C;IACA,MAAM6E,aAAa,GAAGP,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;IACpE,IAAIM,aAAa,EAAE;MACjBA,aAAa,CAACL,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChDC,UAAU,CAAC,MAAM;QACfG,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEL,SAAS,CAACG,MAAM,CAAC,mBAAmB,CAAC;MACtD,CAAC,EAAE,GAAG,CAAC;IACT;IAEAlC,uBAAuB,CAAEqC,IAAY,IAAK,CAACA,IAAI,GAAG,CAAC,IAAI7D,SAAS,CAAC8D,MAAM,CAAC;EAC1E,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,oBAAoB,GAAGjF,WAAW,CAAC,MAAM;IAC7C2C,yBAAyB,CAAEmC,IAAY,IAAK;MAC1C,IAAIA,IAAI,GAAG,CAAC,EAAE;QACZ,OAAOA,IAAI,GAAG,CAAC,CAAC,CAAC;MACnB;MACA;MACA,MAAMI,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACxD,WAAW,CAACmD,MAAM,GAAG,CAAC,CAAC;MACpD,OAAO,CAACG,UAAU,GAAG,CAAC,IAAI,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,oBAAoB,GAAGrF,WAAW,CAAC,MAAM;IAC7C2C,yBAAyB,CAAEmC,IAAY,IAAK;MAC1C,MAAMQ,SAAS,GAAGR,IAAI,GAAG,CAAC,CAAC,CAAC;MAC5B,IAAIQ,SAAS,IAAI1D,WAAW,CAACmD,MAAM,EAAE;QACnC,OAAO,CAAC,CAAC,CAAC;MACZ;MACA,OAAOO,SAAS;IAClB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,sBAAsB,GAAGvF,WAAW,CAAEwF,KAAa,IAAK;IAC5D,IAAIA,KAAK,KAAKhD,oBAAoB,EAAE;MAClCC,uBAAuB,CAAC+C,KAAK,CAAC;IAChC;EACF,CAAC,EAAE,CAAChD,oBAAoB,CAAC,CAAC;EAE1B,MAAMiD,aAAa,GAAGzF,WAAW,CAAC,MAAM;IACtC,IAAI2D,iBAAiB,CAAC+B,OAAO,EAAE;MAC7BC,YAAY,CAAChC,iBAAiB,CAAC+B,OAAO,CAAC;IACzC;IACAnC,eAAe,CAAC,QAAQ,CAAC;IACzBR,cAAc,CAAC,IAAI,CAAC;IACpBU,aAAa,CAAC,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMmC,cAAc,GAAG5F,WAAW,CAAC,MAAM;IACvC,IAAI2D,iBAAiB,CAAC+B,OAAO,EAAE;MAC7BC,YAAY,CAAChC,iBAAiB,CAAC+B,OAAO,CAAC;IACzC;IAEA,IAAIlC,UAAU,GAAG,CAAC,EAAE;MAClBqC,OAAO,CAACC,IAAI,CAAC,0CAA0CtC,UAAU,GAAG,CAAC,KAAK,CAAC;MAC3EC,aAAa,CAACqB,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MAC/BvB,eAAe,CAAC,SAAS,CAAC;;MAE1B;MACAmB,UAAU,CAAC,MAAM;QACf,MAAMqB,GAAG,GAAGzB,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAqB;QAC1E,IAAIwB,GAAG,EAAE;UACPA,GAAG,CAACC,GAAG,GAAGD,GAAG,CAACC,GAAG,GAAG,SAAS,IAAIxC,UAAU,GAAG,CAAC,CAAC;QAClD;MACF,CAAC,EAAE,IAAI,IAAIA,UAAU,GAAG,CAAC,CAAC,CAAC;IAC7B,CAAC,MAAM;MACLqC,OAAO,CAACI,KAAK,CAAC,0CAA0C,CAAC;MACzD1C,eAAe,CAAC,OAAO,CAAC;MACxBR,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;IACxB;EACF,CAAC,EAAE,CAACS,UAAU,CAAC,CAAC;EAEhB,MAAM0C,eAAe,GAAGlG,WAAW,CAAC,MAAM;IACxCuD,eAAe,CAAC,SAAS,CAAC;IAC1BE,aAAa,CAAC,CAAC,CAAC;IAChB,MAAMsC,GAAG,GAAGzB,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAqB;IAC1E,IAAIwB,GAAG,EAAE;MACPA,GAAG,CAACC,GAAG,GAAGD,GAAG,CAACC,GAAG,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC1D;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,sBAAsB,GAAGtG,WAAW,CAAEuG,QAAgB,IAAK;IAC/DpD,kBAAkB,CAACoD,QAAQ,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,sBAAsB,GAAGxG,WAAW,CAAC,MAAM;IAC/CmD,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsD,iBAAiB,GAAGzG,WAAW,CAAEuG,QAAgB,IAAK;IAC1DlD,kBAAkB,CAACkD,QAAQ,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,gBAAgB,GAAG1G,WAAW,CAAC,MAAM;IACzCqD,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMsD,iBAAiB,GAAG3G,WAAW,CAAC,CAAC4G,QAAgB,EAAEC,UAAkB,KAAK;IAC9E,IAAI7C,QAAQ,EAAE;MACZ;MACA,IAAIF,cAAc,KAAK8C,QAAQ,EAAE;QAC/BvE,QAAQ,CAAC,mBAAmByE,kBAAkB,CAACD,UAAU,CAAC,EAAE,EAAE;UAC5DE,KAAK,EAAE;YAAEC,WAAW,EAAE;UAAK;QAC7B,CAAC,CAAC;MACJ,CAAC,MAAM;QACLjD,iBAAiB,CAAC6C,QAAQ,CAAC;MAC7B;IACF,CAAC,MAAM;MACL;MACAvE,QAAQ,CAAC,mBAAmByE,kBAAkB,CAACD,UAAU,CAAC,EAAE,EAAE;QAC5DE,KAAK,EAAE;UAAEC,WAAW,EAAE;QAAK;MAC7B,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAC3E,QAAQ,EAAE2B,QAAQ,EAAEF,cAAc,CAAC,CAAC;;EAExC;EACA,MAAMmD,sBAAsB,GAAGjH,WAAW,CAAE4G,QAAgB,IAAK;IAC/D/C,gBAAgB,CAAC+C,QAAQ,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,sBAAsB,GAAGlH,WAAW,CAAC,MAAM;IAC/C6D,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAhE,SAAS,CAAC,MAAM;IACd,MAAMsH,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,EAAE;QACxBzE,YAAY,CAAC,IAAI,CAAC;MACpB;IACF,CAAC,EACD;MAAE0E,SAAS,EAAE;IAAI,CACnB,CAAC;IAED,IAAI7D,UAAU,CAACgC,OAAO,EAAE;MACtByB,QAAQ,CAACK,OAAO,CAAC9D,UAAU,CAACgC,OAAO,CAAC;IACtC;IAEA,OAAO,MAAMyB,QAAQ,CAACM,UAAU,CAAC,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA5H,SAAS,CAAC,MAAM;IACd,MAAM6H,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjC,IAAIrF,SAAS,KAAK,UAAU,EAAE;QAC5BG,uBAAuB,CAAEqC,IAAY,IAAK,CAACA,IAAI,GAAG,CAAC,IAAI7D,SAAS,CAAC8D,MAAM,CAAC;MAC1E,CAAC,MAAM,IAAIzC,SAAS,KAAK,YAAY,EAAE;QACrCK,yBAAyB,CAAEmC,IAAY,IAAK;UAC1C,MAAMQ,SAAS,GAAGR,IAAI,GAAG,CAAC;UAC1B,OAAOQ,SAAS,IAAI1D,WAAW,CAACmD,MAAM,GAAG,CAAC,GAAGO,SAAS;QACxD,CAAC,CAAC;MACJ;IACF,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMsC,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACpF,SAAS,CAAC,CAAC;;EAEf;EACAzC,SAAS,CAAC,MAAM;IACd,IAAIgI,gBAAwB;IAC5B,IAAIC,YAAY,GAAG,KAAK;IAExB,MAAMC,eAAe,GAAIC,CAAQ,IAAK;MACpC,IAAIF,YAAY,EAAE;MAElB,MAAMG,UAAU,GAAGD,CAAe;MAClC,MAAME,YAAY,GAAG5D,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;MACnE,IAAI,CAAC2D,YAAY,EAAE;MAEnBJ,YAAY,GAAG,IAAI;MACnBD,gBAAgB,GAAGM,qBAAqB,CAAC,MAAM;QAC7C,IAAI;UACF,MAAMC,IAAI,GAAGF,YAAY,CAACG,qBAAqB,CAAC,CAAC;UACjD,MAAMC,OAAO,GAAGF,IAAI,CAACG,IAAI,GAAGH,IAAI,CAACI,KAAK,GAAG,CAAC;UAC1C,MAAMC,OAAO,GAAGL,IAAI,CAACM,GAAG,GAAGN,IAAI,CAACO,MAAM,GAAG,CAAC;UAE1C,MAAMC,MAAM,GAAG,CAACX,UAAU,CAACY,OAAO,GAAGP,OAAO,IAAIF,IAAI,CAACI,KAAK;UAC1D,MAAMM,MAAM,GAAG,CAACb,UAAU,CAACc,OAAO,GAAGN,OAAO,IAAIL,IAAI,CAACO,MAAM;UAE3D,MAAMK,gBAAgB,GAAGd,YAAY,CAACe,gBAAgB,CAAC,8DAA8D,CAAC;UAEtHD,gBAAgB,CAACE,OAAO,CAAC,CAACC,OAAO,EAAE3D,KAAK,KAAK;YAC3C,MAAM4D,SAAS,GAAG,CAAC5D,KAAK,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC;YACzC,MAAM6D,UAAU,GAAGT,MAAM,GAAGQ,SAAS;YACrC,MAAME,UAAU,GAAGR,MAAM,GAAGM,SAAS;YAErC,MAAMG,WAAW,GAAGJ,OAAsB;YAC1C,MAAMK,gBAAgB,GAAGD,WAAW,CAACE,KAAK,CAACC,SAAS,CAACC,OAAO,CAAC,qBAAqB,EAAE,EAAE,CAAC;YACvFJ,WAAW,CAACE,KAAK,CAACC,SAAS,GAAG,GAAGF,gBAAgB,cAAcH,UAAU,OAAOC,UAAU,KAAK;UACjG,CAAC,CAAC;QACJ,CAAC,CAAC,OAAOrD,KAAK,EAAE;UACdJ,OAAO,CAACC,IAAI,CAAC,wBAAwB,EAAEG,KAAK,CAAC;QAC/C,CAAC,SAAS;UACR6B,YAAY,GAAG,KAAK;QACtB;MACF,CAAC,CAAC;IACJ,CAAC;IAED,MAAM8B,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,MAAM1B,YAAY,GAAG5D,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;MACnE,IAAI,CAAC2D,YAAY,EAAE;MAEnB,MAAMc,gBAAgB,GAAGd,YAAY,CAACe,gBAAgB,CAAC,8DAA8D,CAAC;MACtHD,gBAAgB,CAACE,OAAO,CAAEC,OAAO,IAAK;QACpC,MAAMI,WAAW,GAAGJ,OAAsB;QAC1CI,WAAW,CAACE,KAAK,CAACC,SAAS,GAAGH,WAAW,CAACE,KAAK,CAACC,SAAS,CAACC,OAAO,CAAC,qBAAqB,EAAE,EAAE,CAAC;MAC9F,CAAC,CAAC;IACJ,CAAC;IAED,MAAMzB,YAAY,GAAG5D,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;IACnE,IAAI2D,YAAY,EAAE;MAChBA,YAAY,CAAC2B,gBAAgB,CAAC,WAAW,EAAE9B,eAAe,EAAE;QAAE+B,OAAO,EAAE;MAAK,CAAC,CAAC;MAC9E5B,YAAY,CAAC2B,gBAAgB,CAAC,YAAY,EAAED,gBAAgB,EAAE;QAAEE,OAAO,EAAE;MAAK,CAAC,CAAC;IAClF;IAEA,OAAO,MAAM;MACX,IAAIjC,gBAAgB,EAAE;QACpBkC,oBAAoB,CAAClC,gBAAgB,CAAC;MACxC;MACA,IAAIK,YAAY,EAAE;QAChBA,YAAY,CAAC8B,mBAAmB,CAAC,WAAW,EAAEjC,eAAe,CAAC;QAC9DG,YAAY,CAAC8B,mBAAmB,CAAC,YAAY,EAAEJ,gBAAgB,CAAC;MAClE;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA/J,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMoK,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;MAC3D,IAAIF,UAAU,EAAE;QACd,MAAMG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;QAC1C,IAAIG,WAAW,CAAC9H,SAAS,IAAI,CAAC,UAAU,EAAE,YAAY,CAAC,CAACiI,QAAQ,CAACH,WAAW,CAAC9H,SAAS,CAAC,EAAE;UACvFC,YAAY,CAAC6H,WAAW,CAAC9H,SAAS,CAAC;QACrC;QACA,IAAI,OAAO8H,WAAW,CAAC5H,oBAAoB,KAAK,QAAQ,IACpD4H,WAAW,CAAC5H,oBAAoB,IAAI,CAAC,IACrC4H,WAAW,CAAC5H,oBAAoB,GAAGvB,SAAS,CAAC8D,MAAM,EAAE;UACvDtC,uBAAuB,CAAC2H,WAAW,CAAC5H,oBAAoB,CAAC;QAC3D;QACA,IAAI,OAAO4H,WAAW,CAAC1H,sBAAsB,KAAK,QAAQ,IACtD0H,WAAW,CAAC1H,sBAAsB,IAAI,CAAC,IACvC0H,WAAW,CAAC1H,sBAAsB,GAAGd,WAAW,CAACmD,MAAM,EAAE;UAC3DpC,yBAAyB,CAACyH,WAAW,CAAC1H,sBAAsB,CAAC;QAC/D;MACF;IACF,CAAC,CAAC,OAAOuD,KAAK,EAAE;MACdJ,OAAO,CAACC,IAAI,CAAC,iCAAiC,EAAEG,KAAK,CAAC;IACxD;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACApG,SAAS,CAAC,MAAM;IACd,IAAImD,aAAa,EAAE;MACjB,IAAI;QACF,MAAMwH,WAAW,GAAG;UAClBlI,SAAS;UACTE,oBAAoB;UACpBE,sBAAsB;UACtB+H,SAAS,EAAErE,IAAI,CAACC,GAAG,CAAC;QACtB,CAAC;QACD6D,YAAY,CAACQ,OAAO,CAAC,kBAAkB,EAAEL,IAAI,CAACM,SAAS,CAACH,WAAW,CAAC,CAAC;MACvE,CAAC,CAAC,OAAOvE,KAAK,EAAE;QACdJ,OAAO,CAACC,IAAI,CAAC,2BAA2B,EAAEG,KAAK,CAAC;MAClD;IACF;EACF,CAAC,EAAE,CAAC3D,SAAS,EAAEE,oBAAoB,EAAEE,sBAAsB,EAAEM,aAAa,CAAC,CAAC;;EAE5E;EACAnD,SAAS,CAAC,MAAM;IACd,MAAM+K,aAAa,GAAI5C,CAAgB,IAAK;MAC1C;MACA,IAAI,CAACpF,SAAS,EAAE;MAEhB,QAAQoF,CAAC,CAAC6C,GAAG;QACX,KAAK,WAAW;UACd7C,CAAC,CAAC8C,cAAc,CAAC,CAAC;UAClB,IAAIxI,SAAS,KAAK,UAAU,EAAE;YAC5BsC,kBAAkB,CAAC,CAAC;UACtB,CAAC,MAAM,IAAItC,SAAS,KAAK,YAAY,EAAE;YACrC2C,oBAAoB,CAAC,CAAC;UACxB;UACA;QACF,KAAK,YAAY;UACf+C,CAAC,CAAC8C,cAAc,CAAC,CAAC;UAClB,IAAIxI,SAAS,KAAK,UAAU,EAAE;YAC5B0C,kBAAkB,CAAC,CAAC;UACtB,CAAC,MAAM,IAAI1C,SAAS,KAAK,YAAY,EAAE;YACrC+C,oBAAoB,CAAC,CAAC;UACxB;UACA;QACF,KAAK,KAAK;UACR,IAAI2C,CAAC,CAAC+C,QAAQ,EAAE;YACd5G,eAAe,CAAC,UAAU,CAAC;UAC7B,CAAC,MAAM;YACLA,eAAe,CAAC,YAAY,CAAC;UAC/B;UACA;QACF,KAAK,GAAG;QACR,KAAK,GAAG;QACR,KAAK,GAAG;UACN,IAAI7B,SAAS,KAAK,UAAU,EAAE;YAC5B,MAAMkD,KAAK,GAAGwF,QAAQ,CAAChD,CAAC,CAAC6C,GAAG,CAAC,GAAG,CAAC;YACjC,IAAIrF,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGvE,SAAS,CAAC8D,MAAM,EAAE;cAC1CiD,CAAC,CAAC8C,cAAc,CAAC,CAAC;cAClBvF,sBAAsB,CAACC,KAAK,CAAC;YAC/B;UACF;UACA;MACJ;IACF,CAAC;IAEDlB,QAAQ,CAACuF,gBAAgB,CAAC,SAAS,EAAEe,aAAa,CAAC;IACnD,OAAO,MAAMtG,QAAQ,CAAC0F,mBAAmB,CAAC,SAAS,EAAEY,aAAa,CAAC;EACrE,CAAC,EAAE,CAAChI,SAAS,EAAEN,SAAS,EAAEsC,kBAAkB,EAAEI,kBAAkB,EAAEC,oBAAoB,EAAEI,oBAAoB,EAAElB,eAAe,EAAEoB,sBAAsB,CAAC,CAAC;;EAEvJ;EACA1F,SAAS,CAAC,MAAM;IACd,MAAMoL,WAAW,GAAGA,CAAA,KAAM;MACxBhH,WAAW,CAACiH,MAAM,CAACC,UAAU,IAAI,GAAG,CAAC;IACvC,CAAC;IAEDF,WAAW,CAAC,CAAC;IACbC,MAAM,CAACrB,gBAAgB,CAAC,QAAQ,EAAEoB,WAAW,CAAC;IAE9C,OAAO,MAAMC,MAAM,CAAClB,mBAAmB,CAAC,QAAQ,EAAEiB,WAAW,CAAC;EAChE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACApL,SAAS,CAAC,MAAM;IACd,MAAMuL,kBAAkB,GAAIpD,CAAa,IAAK;MAC5C,MAAMqD,MAAM,GAAGrD,CAAC,CAACqD,MAAqB;MACtC,IAAI,CAACA,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAAC,IAAIxH,cAAc,EAAE;QACvDC,iBAAiB,CAAC,IAAI,CAAC;MACzB;IACF,CAAC;IAED,IAAIC,QAAQ,EAAE;MACZM,QAAQ,CAACuF,gBAAgB,CAAC,OAAO,EAAEuB,kBAAkB,CAAC;MACtD,OAAO,MAAM9G,QAAQ,CAAC0F,mBAAmB,CAAC,OAAO,EAAEoB,kBAAkB,CAAC;IACxE;EACF,CAAC,EAAE,CAACpH,QAAQ,EAAEF,cAAc,CAAC,CAAC;;EAE9B;EACAjE,SAAS,CAAC,MAAM;IACd0D,eAAe,CAAC,SAAS,CAAC;;IAE1B;IACAI,iBAAiB,CAAC+B,OAAO,GAAGhB,UAAU,CAAC,MAAM;MAC3CnB,eAAe,CAAC,OAAO,CAAC;MACxBsC,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAC;IACrC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;;IAEX,MAAMyF,SAAS,GAAG7G,UAAU,CAAC,MAAM;MACjCzB,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,EAAE,GAAG,CAAC;IAEP,OAAO,MAAM;MACX0C,YAAY,CAAC4F,SAAS,CAAC;MACvB,IAAI5H,iBAAiB,CAAC+B,OAAO,EAAE;QAC7BC,YAAY,CAAChC,iBAAiB,CAAC+B,OAAO,CAAC;MACzC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA7F,SAAS,CAAC,MAAM;IACd,IAAI2L,SAAS,GAAGC,WAAW,CAACpF,GAAG,CAAC,CAAC;IAEjC,MAAMqF,kBAAkB,GAAGA,CAAA,KAAM;MAC/B,MAAMC,OAAO,GAAGF,WAAW,CAACpF,GAAG,CAAC,CAAC;MACjC,MAAMuF,UAAU,GAAGD,OAAO,GAAGH,SAAS;MAEtC,IAAII,UAAU,GAAG,GAAG,EAAE;QAAE;QACtB/F,OAAO,CAACC,IAAI,CAAC,0BAA0B8F,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;MACnE;IACF,CAAC;;IAED;IACA,MAAMC,YAAY,GAAGpH,UAAU,CAACgH,kBAAkB,EAAE,CAAC,CAAC;IAEtD,OAAO,MAAM;MACX/F,YAAY,CAACmG,YAAY,CAAC;MAC1B,IAAInI,iBAAiB,CAAC+B,OAAO,EAAE;QAC7BC,YAAY,CAAChC,iBAAiB,CAAC+B,OAAO,CAAC;MACzC;;MAEA;MACAvC,kBAAkB,CAAC,IAAI,CAAC;MACxBE,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACErC,OAAA;IAASoB,SAAS,EAAE,qBAAqBQ,SAAS,GAAG,SAAS,GAAG,EAAE,EAAG;IAACmJ,GAAG,EAAErI,UAAW;IAAC,cAAW,4DAAe;IAAAsI,QAAA,gBAEhHhL,OAAA;MAAKoB,SAAS,EAAC,kBAAkB;MAAA4J,QAAA,gBAC/BhL,OAAA;QAAKoB,SAAS,EAAC;MAAiB;QAAA6J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnCpL,OAAA;QAAKoB,SAAS,EAAC;MAAc;QAAA6J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCpL,OAAA;QAAKoB,SAAS,EAAC;MAAc;QAAA6J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eAGNpL,OAAA;MAAKoB,SAAS,EAAC,iBAAiB;MAAA4J,QAAA,gBAE9BhL,OAAA;QAAKoB,SAAS,EAAC,YAAY;QAAA4J,QAAA,gBACzBhL,OAAA;UACEoB,SAAS,EAAE,aAAaE,SAAS,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UACnE+J,OAAO,EAAEA,CAAA,KAAMlI,eAAe,CAAC,UAAU,CAAE;UAC3C,gBAAc7B,SAAS,KAAK,UAAW;UACvC,cAAW,kCAAS;UAAA0J,QAAA,eAEpBhL,OAAA;YAAMoB,SAAS,EAAC,WAAW;YAAA4J,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,eACTpL,OAAA;UACEoB,SAAS,EAAE,aAAaE,SAAS,KAAK,YAAY,GAAG,QAAQ,GAAG,EAAE,EAAG;UACrE+J,OAAO,EAAEA,CAAA,KAAMlI,eAAe,CAAC,YAAY,CAAE;UAC7C,gBAAc7B,SAAS,KAAK,YAAa;UACzC,cAAW,kCAAS;UAAA0J,QAAA,eAEpBhL,OAAA;YAAMoB,SAAS,EAAC,WAAW;YAAA4J,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNpL,OAAA;QAAKoB,SAAS,EAAC,eAAe;QAAA4J,QAAA,gBAE5BhL,OAAA;UAAKoB,SAAS,EAAC,YAAY;UAAA4J,QAAA,eACzBhL,OAAA;YAAKoB,SAAS,EAAC,kBAAkB;YAAA4J,QAAA,GAC9B1J,SAAS,KAAK,UAAU,iBACvBtB,OAAA;cAAKoB,SAAS,EAAC,wBAAwB;cAAA4J,QAAA,gBACrChL,OAAA;gBAAKoB,SAAS,EAAC,0BAA0B;gBAAA4J,QAAA,eACvChL,OAAA;kBAAMoB,SAAS,EAAC,sBAAsB;kBAAA4J,QAAA,GACnC9H,eAAe,CAAChD,KAAK,EAAC,GAAC,EAACgD,eAAe,CAAC/C,IAAI;gBAAA;kBAAA8K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eAENpL,OAAA;gBAAGoB,SAAS,EAAC,4BAA4B;gBAAA4J,QAAA,EACtC9H,eAAe,CAAC9C;cAAW;gBAAA6K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC,eAEJpL,OAAA;gBAAKoB,SAAS,EAAC,wBAAwB;gBAAA4J,QAAA,EACpC9H,eAAe,CAAC7C,OAAO,CAACiL,GAAG,CAAC,CAACC,MAAM,EAAE/G,KAAK,KAAK;kBAC9C,oBACExE,OAAA;oBAAiBoB,SAAS,EAAC,kBAAkB;oBAAA4J,QAAA,eAC3ChL,OAAA;sBAAKoB,SAAS,EAAC,sBAAsB;sBAAA4J,QAAA,gBACnChL,OAAA;wBAAMoB,SAAS,EAAC,oBAAoB;wBAAA4J,QAAA,EACjCxG,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG;sBAAI;wBAAAyG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5C,CAAC,eACPpL,OAAA;wBAAMoB,SAAS,EAAC,oBAAoB;wBAAA4J,QAAA,EAAEO,MAAM,CAAChL;sBAAI;wBAAA0K,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACtD;kBAAC,GANE5G,KAAK;oBAAAyG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAOV,CAAC;gBAEV,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,EAGLlI,eAAe,CAACvC,IAAI,iBACnBX,OAAA;gBAAKoB,SAAS,EAAC,yBAAyB;gBAAA4J,QAAA,eACtChL,OAAA;kBACEwL,IAAI,EAAEtI,eAAe,CAACvC,IAAK;kBAC3B0J,MAAM,EAAC,QAAQ;kBACfoB,GAAG,EAAC,qBAAqB;kBACzBrK,SAAS,EAAC,sBAAsB;kBAAA4J,QAAA,GACjC,iCAEC,eAAAhL,OAAA;oBAAMoB,SAAS,EAAC,YAAY;oBAAA4J,QAAA,EAAC;kBAAC;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CACN,eAGDpL,OAAA;gBAAKoB,SAAS,EAAC,oBAAoB;gBAAA4J,QAAA,eACjChL,OAAA;kBAAKoB,SAAS,EAAC,cAAc;kBAAA4J,QAAA,gBAC3BhL,OAAA;oBAAQoB,SAAS,EAAC,gBAAgB;oBAACiK,OAAO,EAAEzH,kBAAmB;oBAAC,cAAW,wCAAU;oBAAAoH,QAAA,eACnFhL,OAAA,CAACL,WAAW;sBAAC+L,IAAI,EAAE;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC,eACTpL,OAAA;oBAAKoB,SAAS,EAAC,aAAa;oBAAA4J,QAAA,gBAC1BhL,OAAA;sBAAMoB,SAAS,EAAC,SAAS;sBAAA4J,QAAA,EAAExJ,oBAAoB,GAAG;oBAAC;sBAAAyJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAC3DpL,OAAA;sBAAMoB,SAAS,EAAC,SAAS;sBAAA4J,QAAA,EAAC;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eAClCpL,OAAA;sBAAMoB,SAAS,EAAC,OAAO;sBAAA4J,QAAA,EAAE/K,SAAS,CAAC8D;oBAAM;sBAAAkH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9C,CAAC,eACNpL,OAAA;oBAAQoB,SAAS,EAAC,gBAAgB;oBAACiK,OAAO,EAAErH,kBAAmB;oBAAC,cAAW,wCAAU;oBAAAgH,QAAA,eACnFhL,OAAA,CAACJ,YAAY;sBAAC8L,IAAI,EAAE;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGNpL,OAAA;gBAAKoB,SAAS,EAAC,cAAc;gBAAA4J,QAAA,gBAC3BhL,OAAA;kBAAKoB,SAAS,EAAC,gBAAgB;kBAACqH,KAAK,EAAE;oBAAEf,GAAG,EAAE,GAAG;oBAAEH,IAAI,EAAE;kBAAI;gBAAE;kBAAA0D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClEpL,OAAA;kBAAKoB,SAAS,EAAC,gBAAgB;kBAACqH,KAAK,EAAE;oBAAEf,GAAG,EAAE,MAAM;oBAAEiE,KAAK,EAAE,MAAM;oBAAEC,cAAc,EAAE;kBAAK;gBAAE;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,EAEA9J,SAAS,KAAK,YAAY,iBACzBtB,OAAA;cAAKoB,SAAS,EAAC,0BAA0B;cAAA4J,QAAA,gBACvChL,OAAA;gBAAIoB,SAAS,EAAC,wBAAwB;gBAAA4J,QAAA,GAAC,6CAErC,eAAAhL,OAAA;kBAAMoB,SAAS,EAAC,iBAAiB;kBAAA4J,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9C,CAAC,eAELpL,OAAA;gBAAKoB,SAAS,EAAC,wBAAwB;gBAAA4J,QAAA,EACpCpK,WAAW,CAACiL,KAAK,CAACnK,sBAAsB,EAAEA,sBAAsB,GAAG,CAAC,CAAC,CAAC4J,GAAG,CAAC,CAACQ,GAAG,EAAEtH,KAAK,KAAK;kBACzF,MAAMuH,IAAI,GAAGD,GAAG,CAACxL,IAAI;kBACrB,oBACEN,OAAA;oBAEEoB,SAAS,EAAC,gBAAgB;oBAC1BqH,KAAK,EAAE;sBAAEuD,MAAM,EAAEF,GAAG,CAACnL,IAAI,GAAG,SAAS,GAAG;oBAAU,CAAE;oBACpD0K,OAAO,EAAEA,CAAA,KAAM;sBACb,IAAIS,GAAG,CAACnL,IAAI,EAAE;wBACZuJ,MAAM,CAAC+B,IAAI,CAACH,GAAG,CAACnL,IAAI,EAAE,QAAQ,CAAC;sBACjC;oBACF,CAAE;oBAAAqK,QAAA,gBAEFhL,OAAA;sBAAKoB,SAAS,EAAC,gBAAgB;sBAAA4J,QAAA,eAC7BhL,OAAA,CAAC+L,IAAI;wBAACL,IAAI,EAAE,EAAG;wBAAC,eAAY;sBAAM;wBAAAT,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClC,CAAC,eACNpL,OAAA;sBAAKoB,SAAS,EAAC,mBAAmB;sBAAA4J,QAAA,gBAChChL,OAAA;wBAAAgL,QAAA,EAAKc,GAAG,CAACjL;sBAAK;wBAAAoK,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAK,CAAC,eACpBpL,OAAA;wBAAAgL,QAAA,EAAIc,GAAG,CAAC1L;sBAAW;wBAAA6K,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACxBpL,OAAA;wBAAKyI,KAAK,EAAE;0BAAEyD,OAAO,EAAE,MAAM;0BAAEC,UAAU,EAAE,QAAQ;0BAAEC,GAAG,EAAE;wBAAO,CAAE;wBAAApB,QAAA,gBACjEhL,OAAA;0BAAMoB,SAAS,EAAC,kBAAkB;0BAAA4J,QAAA,EAAEc,GAAG,CAACtL;wBAAQ;0BAAAyK,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,EACvDU,GAAG,CAACnL,IAAI,iBACPX,OAAA;0BAAMyI,KAAK,EAAE;4BACX4D,QAAQ,EAAE,MAAM;4BAChBC,KAAK,EAAE,SAAS;4BAChBC,UAAU,EAAE;0BACd,CAAE;0BAAAvB,QAAA,EAAC;wBAEH;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAM,CACP;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACE,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC;kBAAA,GA3BD,YAAY1J,sBAAsB,GAAG8C,KAAK,EAAE;oBAAAyG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OA4B9C,CAAC;gBAEV,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAGNpL,OAAA;gBAAKoB,SAAS,EAAC,oBAAoB;gBAACqH,KAAK,EAAE;kBAAE+D,SAAS,EAAE;gBAAO,CAAE;gBAAAxB,QAAA,eAC/DhL,OAAA;kBAAKoB,SAAS,EAAC,cAAc;kBAAA4J,QAAA,gBAC3BhL,OAAA;oBAAQoB,SAAS,EAAC,gBAAgB;oBAACiK,OAAO,EAAEpH,oBAAqB;oBAAC,cAAW,wCAAU;oBAAA+G,QAAA,eACrFhL,OAAA,CAACL,WAAW;sBAAC+L,IAAI,EAAE;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC,eACTpL,OAAA;oBAAKoB,SAAS,EAAC,aAAa;oBAAA4J,QAAA,gBAC1BhL,OAAA;sBAAMoB,SAAS,EAAC,SAAS;sBAAA4J,QAAA,EAAE7G,IAAI,CAACsI,KAAK,CAAC/K,sBAAsB,GAAG,CAAC,CAAC,GAAG;oBAAC;sBAAAuJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAC7EpL,OAAA;sBAAMoB,SAAS,EAAC,SAAS;sBAAA4J,QAAA,EAAC;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eAClCpL,OAAA;sBAAMoB,SAAS,EAAC,OAAO;sBAAA4J,QAAA,EAAE7G,IAAI,CAACC,IAAI,CAACxD,WAAW,CAACmD,MAAM,GAAG,CAAC;oBAAC;sBAAAkH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/D,CAAC,eACNpL,OAAA;oBAAQoB,SAAS,EAAC,gBAAgB;oBAACiK,OAAO,EAAEhH,oBAAqB;oBAAC,cAAW,wCAAU;oBAAA2G,QAAA,eACrFhL,OAAA,CAACJ,YAAY;sBAAC8L,IAAI,EAAE;oBAAG;sBAAAT,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpL,OAAA;UAAKoB,SAAS,EAAC,YAAY;UAAA4J,QAAA,eACzBhL,OAAA;YAAKoB,SAAS,EAAC,qBAAqB;YAAA4J,QAAA,eAClChL,OAAA;cAAKoB,SAAS,EAAC,WAAW;cAAA4J,QAAA,GACvC1I,YAAY,KAAK,SAAS,iBACTtC,OAAA;gBAAKoB,SAAS,EAAC,qBAAqB;gBAAA4J,QAAA,gBAClChL,OAAA;kBAAKoB,SAAS,EAAC,iBAAiB;kBAAA4J,QAAA,gBAC9BhL,OAAA;oBAAKoB,SAAS,EAAC;kBAAc;oBAAA6J,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACpCpL,OAAA;oBAAKoB,SAAS,EAAC;kBAAc;oBAAA6J,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACpCpL,OAAA;oBAAKoB,SAAS,EAAC;kBAAc;oBAAA6J,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC,eACNpL,OAAA;kBAAGoB,SAAS,EAAC,cAAc;kBAAA4J,QAAA,EACxBxI,UAAU,GAAG,CAAC,GAAG,aAAaA,UAAU,KAAK,GAAG;gBAAe;kBAAAyI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/D,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CACN,EAEA9I,YAAY,KAAK,OAAO,iBACvBtC,OAAA;gBAAKoB,SAAS,EAAC,mBAAmB;gBAAA4J,QAAA,gBAChChL,OAAA;kBAAKoB,SAAS,EAAC,YAAY;kBAAA4J,QAAA,EAAC;gBAAE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACpCpL,OAAA;kBAAGoB,SAAS,EAAC,YAAY;kBAAA4J,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC5CpL,OAAA;kBACEoB,SAAS,EAAC,cAAc;kBACxBiK,OAAO,EAAEnG,eAAgB;kBACzB,cAAW,oDAAY;kBAAA8F,QAAA,EACxB;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN,eACDpL,OAAA;gBACEgF,GAAG,EAAEnF,QAAS;gBACd6M,GAAG,EAAC,qJAAkC;gBACtCtL,SAAS,EAAE,mBAAmBU,WAAW,GAAG,QAAQ,GAAG,SAAS,EAAG;gBACnE6K,MAAM,EAAElI,aAAc;gBACtBmI,OAAO,EAAEhI;cAAe;gBAAAqG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB,CAAC,EAQD9J,SAAS,KAAK,UAAU,IAAIrB,SAAS,CAACqL,GAAG,CAAC,CAACuB,QAAQ,EAAErI,KAAK,KAAK;gBAC9D,MAAMe,QAAQ,GAAG,YAAYf,KAAK,EAAE;gBACpC,MAAMsI,QAAQ,GAAGtI,KAAK,KAAKhD,oBAAoB;gBAC/C,MAAMuL,SAAS,GAAG7K,eAAe,KAAKqD,QAAQ;gBAC9C,MAAMyH,SAAS,GAAG5K,eAAe,KAAKmD,QAAQ;gBAC9C,MAAM0H,eAAe,GAAGH,QAAQ,IAAIC,SAAS,IAAIC,SAAS;gBAE1D,oBACEhN,OAAA;kBAEEoB,SAAS,EAAE,gBAAgB0L,QAAQ,GAAG,QAAQ,GAAG,EAAE,IAAIC,SAAS,GAAG,SAAS,GAAG,EAAE,IAAIC,SAAS,GAAG,SAAS,GAAG,EAAE,EAAG;kBAClHvE,KAAK,EAAE;oBACLlB,IAAI,EAAEsF,QAAQ,CAACrM,QAAQ,CAACC,CAAC;oBACzBiH,GAAG,EAAEmF,QAAQ,CAACrM,QAAQ,CAACE,CAAC;oBACxBwM,MAAM,EAAEJ,QAAQ,GAAG,GAAG,GAAIC,SAAS,IAAIC,SAAS,GAAI,EAAE,GAAG;kBAC3D,CAAE;kBACF3B,OAAO,EAAEA,CAAA,KAAM9G,sBAAsB,CAACC,KAAK,CAAE;kBAC7C2I,YAAY,EAAEA,CAAA,KAAM7H,sBAAsB,CAACC,QAAQ,CAAE;kBACrD6H,YAAY,EAAE5H,sBAAuB;kBACrC6H,OAAO,EAAEA,CAAA,KAAM5H,iBAAiB,CAACF,QAAQ,CAAE;kBAC3C+H,MAAM,EAAE5H,gBAAiB;kBACzB,cAAY,GAAGmH,QAAQ,CAAC1M,IAAI,KAAK0M,QAAQ,CAAC3M,KAAK,MAAO;kBACtD,gBAAc4M,QAAS;kBAAA9B,QAAA,gBAEvBhL,OAAA;oBAAKoB,SAAS,EAAC,YAAY;oBAAA4J,QAAA,gBACzBhL,OAAA;sBAAKoB,SAAS,EAAC;oBAAU;sBAAA6J,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC5BpL,OAAA;sBAAKoB,SAAS,EAAC;oBAAY;sBAAA6J,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3B,CAAC,eACNpL,OAAA;oBAAKoB,SAAS,EAAE,sBAAsB6L,eAAe,GAAG,SAAS,GAAG,QAAQ,EAAG;oBAAAjC,QAAA,gBAC7EhL,OAAA;sBAAKoB,SAAS,EAAC,eAAe;sBAAA4J,QAAA,EAAE6B,QAAQ,CAAC1M;oBAAI;sBAAA8K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACpDpL,OAAA;sBAAKoB,SAAS,EAAC,gBAAgB;sBAAA4J,QAAA,EAAE6B,QAAQ,CAAC3M;oBAAK;sBAAA+K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnD,CAAC;gBAAA,GAtBD7F,QAAQ;kBAAA0F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAuBP,CAAC;cAEb,CAAC,CAAC,EAGDrK,OAAO,CAACuK,GAAG,CAAC,CAACiC,MAAM,EAAE/I,KAAK,KAAK;gBAC9B,MAAMuI,SAAS,GAAGnK,aAAa,KAAK2K,MAAM,CAACvM,EAAE;gBAC7C,MAAMwM,UAAU,GAAG1K,cAAc,KAAKyK,MAAM,CAACvM,EAAE;gBAC/C,MAAM8L,QAAQ,GAAG9J,QAAQ,IAAIwK,UAAU;gBAEvC,oBACExN,OAAA;kBAEEoB,SAAS,EAAE,iBAAiB2L,SAAS,GAAG,SAAS,GAAG,EAAE,IAAIS,UAAU,GAAG,UAAU,GAAG,EAAE,IAAIV,QAAQ,GAAG,eAAe,GAAG,EAAE,EAAG;kBAC5HrE,KAAK,EAAE;oBACLlB,IAAI,EAAEgG,MAAM,CAACzM,QAAQ,CAACL,CAAC;oBACvBiH,GAAG,EAAE6F,MAAM,CAACzM,QAAQ,CAACJ,CAAC;oBACtB,SAAS,EAAE8D;kBACb,CAAyB;kBACzB6G,OAAO,EAAEA,CAAA,KAAM1F,iBAAiB,CAAC4H,MAAM,CAACvM,EAAE,EAAEuM,MAAM,CAACpN,IAAI,CAAE;kBACzDgN,YAAY,EAAEA,CAAA,KAAMlH,sBAAsB,CAACsH,MAAM,CAACvM,EAAE,CAAE;kBACtDoM,YAAY,EAAElH,sBAAuB;kBACrC,cAAY,GAAGqH,MAAM,CAACpN,IAAI,KAAM;kBAChC,gBAAcqN,UAAW;kBAAAxC,QAAA,eAEzBhL,OAAA;oBAAKoB,SAAS,EAAC,WAAW;oBAAA4J,QAAA,eACxBhL,OAAA;sBAAIoB,SAAS,EAAC,cAAc;sBAAA4J,QAAA,EAAEuC,MAAM,CAACpN;oBAAI;sBAAA8K,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5C;gBAAC,GAfDmC,MAAM,CAACvM,EAAE;kBAAAiK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAgBR,CAAC;cAEb,CAAC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpL,OAAA;UAAKoB,SAAS,EAAC,YAAY;UAAA4J,QAAA,eACzBhL,OAAA;YAAKoB,SAAS,EAAC,cAAc;YAAA4J,QAAA,eAC3BhL,OAAA;cACEgF,GAAG,EAAElF,aAAc;cACnB4M,GAAG,EAAC,kGAAuB;cAC3BtL,SAAS,EAAC;YAAmB;cAAA6J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd,CAAC;EAAA,QAzuBkBlM,WAAW;AAAA,EAyuB7B,CAAC;EAAA,QAzuBiBA,WAAW;AAAA,EAyuB5B;AAACuO,GAAA,GA1uBGxM,UAAqC;AA4uB3CA,UAAU,CAACyM,WAAW,GAAG,YAAY;;AAErC;AACA,MAAMC,uBAAuB,SAAShP,KAAK,CAACiP,SAAS,CAGnD;EACAC,WAAWA,CAACC,KAAoC,EAAE;IAChD,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAAC/H,KAAK,GAAG;MAAEgI,QAAQ,EAAE;IAAM,CAAC;EAClC;EAEA,OAAOC,wBAAwBA,CAAC/I,KAAY,EAAE;IAC5C,OAAO;MAAE8I,QAAQ,EAAE,IAAI;MAAE9I;IAAM,CAAC;EAClC;EAEAgJ,iBAAiBA,CAAChJ,KAAY,EAAEiJ,SAA0B,EAAE;IAC1DrJ,OAAO,CAACI,KAAK,CAAC,mBAAmB,EAAEA,KAAK,EAAEiJ,SAAS,CAAC;EACtD;EAEAC,MAAMA,CAAA,EAAG;IACP,IAAI,IAAI,CAACpI,KAAK,CAACgI,QAAQ,EAAE;MACvB,oBACE/N,OAAA;QAASoB,SAAS,EAAC,mBAAmB;QAACgN,IAAI,EAAC,OAAO;QAAC,aAAU,QAAQ;QAAApD,QAAA,eACpEhL,OAAA;UAAKoB,SAAS,EAAC,iBAAiB;UAAA4J,QAAA,gBAC9BhL,OAAA;YAAAgL,QAAA,EAAI;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9BpL,OAAA;YAAAgL,QAAA,EAAG;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnCpL,OAAA;YACEqL,OAAO,EAAEA,CAAA,KAAMnB,MAAM,CAAC1J,QAAQ,CAAC6N,MAAM,CAAC,CAAE;YACxCjN,SAAS,EAAC,kBAAkB;YAAA4J,QAAA,EAC7B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAEd;IAEA,OAAO,IAAI,CAAC0C,KAAK,CAAC9C,QAAQ;EAC5B;AACF;;AAEA;AACA,MAAMsD,2BAAsD,GAAIR,KAAK,iBACnE9N,OAAA,CAAC2N,uBAAuB;EAAA3C,QAAA,eACtBhL,OAAA,CAACiB,UAAU;IAAA,GAAK6M;EAAK;IAAA7C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACF,CAC1B;AAACmD,GAAA,GAJID,2BAAsD;AAM5D,eAAeA,2BAA2B;AAAC,IAAAnN,EAAA,EAAAsM,GAAA,EAAAc,GAAA;AAAAC,YAAA,CAAArN,EAAA;AAAAqN,YAAA,CAAAf,GAAA;AAAAe,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}