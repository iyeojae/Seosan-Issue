{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uC5EC\\uC7AC\\\\Desktop\\\\SpringProject\\\\Seosan-Issue-front\\\\src\\\\AiSearch\\\\AiSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./AiSearch.module.css\";\nimport { aiSearchAPI } from \"../api/backend.api\";\nimport LightningIcon from \"../assets/Lightning.png\";\nimport QuestionLogo from \"../assets/ë¬¼ìŒí‘œë¡œê³  .png\";\nimport ChatCircleDots from \"../assets/ChatCircleDots.png\";\nimport BlackCircle from \"../assets/blackcircle.png\";\nimport HealthIcon from \"../assets/Health2.png\";\nimport LightbulbIcon from \"../assets/Lightbulb.png\";\nimport History from \"../assets/refresh_gray.gif\";\nimport SearchBalloon from \"../assets/searchBalloon.png\";\nimport SparkleIcon from \"../assets/sparkle.png\";\nimport sadLogo from \"../assets/sadLogo.png\";\nimport happyLogo from \"../assets/HappyLogo.png\";\nimport NewsIcon from \"../assets/ë‰´ìŠ¤.png\";\n\n/* ===== ì¶”ì²œ ê²€ìƒ‰ í‚¤ì›Œë“œ ëª©ì—… ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst recentSearchPool = [[\"ë§›ì§‘\", \"ë…¸ì¸ë³µì§€\", \"ì„œì‚°êµí†µ\"], [\"í•´ë¯¸ìì„±\", \"ë³µì§€ í˜œíƒ\", \"ì„œì‚° ì¹´í˜\"], [\"ì„œì‚° ëª…ì†Œ\", \"ì „í†µì‹œì¥\", \"ë¬¸í™”í–‰ì‚¬\"], [\"ì²´ìœ¡ì‹œì„¤\", \"ì„œì‚°ì‹œì²­\", \"êµí†µì •ë³´\"], [\"ê´€ê´‘ì§€\", \"ì„œì‚° ë§›ì§‘\", \"ì£¼ì°¨ì¥\"]];\nfunction getRandomList(prevList) {\n  const candidates = recentSearchPool.filter(arr => arr.join(\"|\") !== prevList.join(\"|\"));\n  if (candidates.length === 0) return prevList;\n  const i = Math.floor(Math.random() * candidates.length);\n  return candidates[i];\n}\nexport default function AiSearch() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [recentSearches, setRecentSearches] = useState(recentSearchPool[0]);\n\n  // 'idle' | 'loading' | 'empty' | 'ok'\n  const [searchState, setSearchState] = useState(\"idle\");\n  const [activeTab, setActiveTab] = useState(\"answer\"); // 'answer' | 'sources'\n  const [result, setResult] = useState({\n    answerHtml: \"\",\n    sources: []\n  });\n  const [useDetailSearch, setUseDetailSearch] = useState(true); // ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš© ì—¬ë¶€ (trueë¡œ ì„¤ì •í•˜ì—¬ ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš©)\n\n  // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²€ìƒ‰ì–´ ê°€ì ¸ì™€ì„œ ìë™ ê²€ìƒ‰\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const query = params.get('q');\n    if (query) {\n      setInputValue(query);\n      handleAiSearchWithQuery(query);\n    }\n  }, [location.search]);\n\n  // ê²€ìƒ‰ ì‹¤í–‰ (ê³µí†µ í•¨ìˆ˜)\n  const handleAiSearchWithQuery = async query => {\n    const q = query.trim();\n    if (!q) return;\n    setSearchState(\"loading\");\n    try {\n      // ì‹¤ì œ ë°±ì—”ë“œ AI ê²€ìƒ‰ API í˜¸ì¶œ - ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš©\n      console.log(`AI ê²€ìƒ‰ ì‹œì‘: \"${q}\"`);\n      const data = useDetailSearch ? await aiSearchAPI.searchDetail(q) : await aiSearchAPI.searchBrief(q);\n      console.log(useDetailSearch ? \"AI ìƒì„¸ ê²€ìƒ‰ ê²°ê³¼:\" : \"AI ê°„ëµ ê²€ìƒ‰ ê²°ê³¼:\", data);\n      console.log(\"ì‘ë‹µ ë°ì´í„° íƒ€ì…:\", typeof data);\n      console.log(\"ì‘ë‹µ í‚¤:\", data ? Object.keys(data) : \"null\");\n\n      // ì‘ë‹µ ë°ì´í„° í˜•ì‹ í™•ì¸ ë° ì²˜ë¦¬\n      if (!data) {\n        console.log(\"ë°ì´í„°ê°€ null ë˜ëŠ” undefined\");\n        setResult({\n          answerHtml: \"ì£„ì†¡í•©ë‹ˆë‹¤. ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n          sources: []\n        });\n        setSearchState(\"empty\");\n      } else if (data.error) {\n        console.log(\"API ì—ëŸ¬ ì‘ë‹µ:\", data.error);\n        setResult({\n          answerHtml: data.error || \"ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\",\n          sources: []\n        });\n        setSearchState(\"empty\");\n      } else if (data.tldr && data.items) {\n        var _data$items;\n        // ìƒì„¸ ê²€ìƒ‰ API ì‘ë‹µ í˜•ì‹ ì²˜ë¦¬\n        console.log(\"ìƒì„¸ ê²€ìƒ‰ ì‘ë‹µ ì²˜ë¦¬:\", data);\n\n        // itemsì˜ ë‚´ìš©ì„ ìŠ¤í¬ë¦°ìƒ· í˜•íƒœë¡œ í‘œì‹œ\n        let answerHtml = '';\n        if (data.items && data.items.length > 0) {\n          data.items.forEach((item, idx) => {\n            var _item$content;\n            answerHtml += `\n              <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n                <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n                  <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                    ${idx + 1}\n                  </div>\n                  <div style=\"flex: 1;\">\n                    <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                      <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                        ${item.title || 'ì œëª© ì—†ìŒ'}\n                      </h3>\n                      <a href=\"${item.url}\" target=\"_blank\" style=\"display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; background: #26d0ce; border-radius: 50%; text-decoration: none;\">\n                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n                          <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                          <polyline points=\"15 3 21 3 21 9\"></polyline>\n                          <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                        </svg>\n                      </a>\n                    </div>\n                    <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                    <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                      ${item.summary || ((_item$content = item.content) === null || _item$content === void 0 ? void 0 : _item$content.substring(0, 300)) || 'ë‚´ìš© ì—†ìŒ'}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            `;\n          });\n        } else if (data.tldr) {\n          // itemsê°€ ì—†ìœ¼ë©´ tldrë§Œ í‘œì‹œ\n          answerHtml = `<p style=\"padding: 20px; background: #f8f9fa; border-radius: 8px; line-height: 1.6;\">${data.tldr}</p>`;\n        }\n\n        // sources ì²˜ë¦¬ (URL ë°°ì—´ ë˜ëŠ” itemsì—ì„œ ì¶”ì¶œ)\n        const sources = data.sources || ((_data$items = data.items) === null || _data$items === void 0 ? void 0 : _data$items.map(item => ({\n          title: item.title || 'ì°¸ê³  ìë£Œ',\n          link: item.url,\n          provider: item.url ? new URL(item.url).hostname : 'ì¶œì²˜ ì—†ìŒ'\n        }))) || [];\n        const formattedSources = sources.map((source, idx) => {\n          if (typeof source === 'string') {\n            return {\n              title: `ì°¸ê³  ìë£Œ ${idx + 1}`,\n              link: source,\n              provider: source.includes('http') ? new URL(source).hostname : 'ì„œì‚°ì‹œ'\n            };\n          }\n          return source;\n        });\n        setResult({\n          answerHtml,\n          sources: formattedSources\n        });\n        setSearchState(\"ok\");\n      } else if (data.summary || data.answer || data.content || data.response || data.detailed_answer || data.result) {\n        // ê°„ëµ ê²€ìƒ‰ API ì‘ë‹µ í˜•ì‹ ì²˜ë¦¬\n        const summaryText = data.result || data.detailed_answer || data.summary || data.answer || data.content || data.response || \"ë‹µë³€ì„ ìƒì„±ì¤‘ì…ë‹ˆë‹¤...\";\n        const sources = data.sources || data.references || data.related_links || data.links || [];\n        console.log(\"ì¶”ì¶œëœ ë‹µë³€:\", summaryText);\n        console.log(\"ì¶”ì¶œëœ ì†ŒìŠ¤:\", sources);\n\n        // ê°„ëµ ê²€ìƒ‰ë„ ë™ì¼í•œ í˜•íƒœë¡œ í‘œì‹œ\n        let answerHtml = `\n          <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n            <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n              <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                1\n              </div>\n              <div style=\"flex: 1;\">\n                <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                  <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                    ì„œì‚°ì‹œ ê´€ë ¨ ì •ë³´ ê²€ìƒ‰ ê²°ê³¼\n                  </h3>\n                </div>\n                <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                  ${summaryText}\n                </p>\n              </div>\n            </div>\n          </div>\n        `;\n\n        // sourcesê°€ ìˆìœ¼ë©´ ì¶”ê°€ í•­ëª©ìœ¼ë¡œ í‘œì‹œ\n        if (sources && sources.length > 0) {\n          sources.forEach((source, idx) => {\n            const sourceTitle = typeof source === 'string' ? `ì°¸ê³  ìë£Œ ${idx + 1}` : source.title || source.name || `ì°¸ê³  ìë£Œ ${idx + 1}`;\n            const sourceLink = typeof source === 'string' ? source : source.link || source.url || '#';\n            answerHtml += `\n              <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n                <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n                  <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                    ${idx + 2}\n                  </div>\n                  <div style=\"flex: 1;\">\n                    <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                      <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                        ${sourceTitle}\n                      </h3>\n                      <a href=\"${sourceLink}\" target=\"_blank\" style=\"display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; background: #26d0ce; border-radius: 50%; text-decoration: none;\">\n                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n                          <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                          <polyline points=\"15 3 21 3 21 9\"></polyline>\n                          <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                        </svg>\n                      </a>\n                    </div>\n                    <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                    <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                      ${sourceLink}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            `;\n          });\n        }\n\n        // sourcesê°€ URL ë¬¸ìì—´ ë°°ì—´ì¸ ê²½ìš° ê°ì²´ í˜•íƒœë¡œ ë³€í™˜\n        const formattedSources = sources.map((source, idx) => {\n          if (typeof source === 'string') {\n            return {\n              title: `ì°¸ê³  ìë£Œ ${idx + 1}`,\n              link: source,\n              provider: source.includes('http') ? new URL(source).hostname : 'ì„œì‚°ì‹œ'\n            };\n          }\n          return {\n            title: source.title || source.name || `ì°¸ê³  ìë£Œ ${idx + 1}`,\n            link: source.link || source.url || '#',\n            provider: source.provider || source.source || 'ì„œì‚°ì‹œ'\n          };\n        });\n        setResult({\n          answerHtml,\n          sources: formattedSources\n        });\n        setSearchState(\"ok\");\n      } else if (data.answerHtml || data.sources) {\n        // ê¸°ì¡´ í˜•ì‹ ì§€ì›\n        console.log(\"ê¸°ì¡´ í˜•ì‹ ì‘ë‹µ ì²˜ë¦¬\");\n        setResult({\n          answerHtml: data.answerHtml || \"\",\n          sources: data.sources || []\n        });\n        setSearchState(data.answerHtml || data.sources && data.sources.length > 0 ? \"ok\" : \"empty\");\n      } else if (typeof data === 'string') {\n        // ë¬¸ìì—´ë¡œ ì§ì ‘ ì‘ë‹µì´ ì˜¨ ê²½ìš°\n        console.log(\"ë¬¸ìì—´ ì‘ë‹µ ì²˜ë¦¬:\", data);\n        setResult({\n          answerHtml: data,\n          sources: []\n        });\n        setSearchState(\"ok\");\n      } else {\n        // ì•Œ ìˆ˜ ì—†ëŠ” í˜•ì‹ - ê°ì²´ì˜ ëª¨ë“  ë‚´ìš©ì„ í‘œì‹œ\n        console.log(\"ì˜ˆìƒì¹˜ ëª»í•œ ì‘ë‹µ í˜•ì‹:\", data);\n        let responseText = \"\";\n        if (data.message) responseText = data.message;else if (data.text) responseText = data.text;else if (data.data) responseText = typeof data.data === 'string' ? data.data : JSON.stringify(data.data, null, 2);else responseText = JSON.stringify(data, null, 2);\n        setResult({\n          answerHtml: responseText,\n          sources: []\n        });\n        setSearchState(responseText ? \"ok\" : \"empty\");\n      }\n    } catch (error) {\n      console.error(\"AI ê²€ìƒ‰ ì˜¤ë¥˜:\", error);\n      console.error(\"ì—ëŸ¬ ìƒì„¸:\", error.message, error.stack);\n      setResult({\n        answerHtml: `ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message || 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜'}`,\n        sources: []\n      });\n      setSearchState(\"empty\");\n    }\n  };\n\n  // ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬\n  const handleAiSearch = () => {\n    handleAiSearchWithQuery(inputValue);\n  };\n\n  // ìµœê·¼ ê²€ìƒ‰ ìƒˆë¡œê³ ì¹¨\n  const handleRefresh = () => {\n    setRecentSearches(prevList => getRandomList(prevList));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.bg,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.topSection,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.bgBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.aiSearchBalloonBox,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: SearchBalloon,\n            alt: \"\\uAC80\\uC0C9 \\uB9D0\\uD48D\\uC120\",\n            className: styles.balloonBg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.balloonContent,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: styles.balloonInput,\n              placeholder: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uC18C\\uC2DD\\uC774 \\uC788\\uB098\\uC694?\",\n              value: inputValue,\n              onChange: e => setInputValue(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && handleAiSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.aiSearchRight,\n              onClick: handleAiSearch,\n              type: \"button\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.aiSearchBold,\n                children: \"AI \\uAC80\\uC0C9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: SparkleIcon,\n                alt: \"\",\n                className: styles.sparkleIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.searchHistoryTitle,\n            role: \"button\",\n            tabIndex: 0,\n            title: \"\\uCD94\\uCC9C \\uAC80\\uC0C9 \\uC0C8\\uB85C\\uACE0\\uCE68\",\n            onClick: handleRefresh,\n            onKeyDown: e => {\n              if (e.key === \"Enter\" || e.key === \" \") handleRefresh();\n            },\n            style: {\n              cursor: \"pointer\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: History,\n              alt: \"\\uC0C8\\uB85C\\uACE0\\uCE68\",\n              className: styles.historyIcon,\n              draggable: \"false\",\n              style: {\n                cursor: \"pointer\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), \"\\uCD94\\uCC9C \\uAC80\\uC0C9\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), recentSearches.map((item, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.pillBtn,\n            onClick: () => {\n              setInputValue(item);\n              handleAiSearchWithQuery(item);\n            },\n            children: item\n          }, item + idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: QuestionLogo,\n        alt: \"logo\",\n        className: styles.questionLogo,\n        draggable: \"false\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), searchState !== \"idle\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.aiResultWrap,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.toastRow,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: searchState === \"empty\" ? sadLogo : happyLogo,\n          alt: \"\\uC0C1\\uD0DC \\uC544\\uC774\\uCF58\",\n          className: styles.resultLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.toastBubble,\n          children: searchState === \"loading\" ? \"AIê°€ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ìˆì–´ìš” ğŸ”\" : searchState === \"empty\" ? \"AI ë‹µë³€ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤ âœ¨\" : \"AI ë‹µë³€ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ âœ¨\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.tabsBar,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setActiveTab(\"answer\"),\n          className: `${styles.tabBtn} ${activeTab === \"answer\" ? styles.tabActive : \"\"}`,\n          children: \"\\uB2F5\\uBCC0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setActiveTab(\"sources\"),\n          className: `${styles.tabBtn} ${activeTab === \"sources\" ? styles.tabActive : \"\"}`,\n          children: \"\\uCD9C\\uCC98\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.resultBody,\n        children: searchState === \"loading\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.loadingContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.loadingSpinner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: styles.loadingTitle,\n            children: \"AI\\uAC00 \\uC5F4\\uC2EC\\uD788 \\uB2F5\\uBCC0\\uC744 \\uC900\\uBE44\\uD558\\uACE0 \\uC788\\uC5B4\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.loadingDescription,\n            children: [\"\\uC11C\\uC0B0\\uC2DC\\uC758 \\uB2E4\\uC591\\uD55C \\uC815\\uBCF4\\uB97C \\uC885\\uD569\\uD558\\uC5EC\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 36\n            }, this), \"\\uAC00\\uC7A5 \\uC815\\uD655\\uD55C \\uB2F5\\uBCC0\\uC744 \\uCC3E\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 38\n            }, this), \"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694! (\\uC57D 15-20\\uCD08)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.loadingDots,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.loadingDot,\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.loadingDot,\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.loadingDot,\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 15\n        }, this) : searchState === \"empty\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.noResultBox,\n          children: \"\\uC774\\uB7F0, \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uBCF4\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this) : activeTab === \"answer\" ?\n        /*#__PURE__*/\n        // ê°œë³„ ì„¹ì…˜ìœ¼ë¡œ í‘œì‹œ (ì™¸ë¶€ wrapper ì—†ì´)\n        _jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: result.answerHtml.includes('<') ? result.answerHtml // ì´ë¯¸ HTMLì´ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©\n            : result.answerHtml.replace(/\\n/g, '<br/>') // ì¤„ë°”ê¿ˆ ì²˜ë¦¬\n            .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>') // êµµì€ ê¸€ì”¨\n            .replace(/\\*(.*?)\\*/g, '<em>$1</em>') // ê¸°ìš¸ì„\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.resultCardList,\n          children: result.sources.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.resultCard,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.resultCardTitle,\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.resultCardProvider,\n              children: item.provider\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: styles.resultCardLink,\n              href: item.link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"\\uBC14\\uB85C\\uAC00\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 21\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }, this), searchState === \"idle\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentsWrap,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.section,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: LightbulbIcon,\n            alt: \"\",\n            className: styles.titleIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), \"\\uC778\\uAE30 \\uD0A4\\uC6CC\\uB4DC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.grid,\n          children: [{\n            tag: \"ë¯¼ì›\",\n            text: \"ë¯¼ì› ì‹ ì²­\"\n          }, {\n            tag: \"ë³µì§€\",\n            text: \"ë…¸ì¸ë³µì§€\"\n          }, {\n            tag: \"í–‰ì‚¬\",\n            text: \"ì„œì‚° í–‰ì‚¬\"\n          }, {\n            tag: \"ê´€ê´‘\",\n            text: \"í•´ë¯¸ ìì„±\"\n          }].map((q, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.card,\n            onClick: () => {\n              setInputValue(q.text);\n              handleAiSearchWithQuery(q.text);\n            },\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.cardTop,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tag,\n                children: q.tag\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: ChatCircleDots,\n                alt: \"\",\n                className: styles.cardIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.cardText,\n              children: q.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.section,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: LightningIcon,\n            alt: \"\",\n            className: styles.titleIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), \"\\uC778\\uAE30 \\uCE74\\uD14C\\uACE0\\uB9AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.gridCat,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.catCard,\n            onClick: () => navigate('/explore', {\n              state: {\n                tab: 'ë‰´ìŠ¤'\n              }\n            }),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.catTitle,\n                children: \"\\uB274\\uC2A4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.catDesc,\n                children: [\"\\uC11C\\uC0B0\\uC758 \\uCD5C\\uADFC\\uC18C\\uC2DD\\uC744 \\uC5EC\\uAE30\\uC11C,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 35\n                }, this), \"\\uBC14\\uB85C \\uC54C\\uC544\\uBCF4\\uC138\\uC694\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: NewsIcon,\n              alt: \"\\uB274\\uC2A4\",\n              className: styles.catImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: BlackCircle,\n              alt: \"arrow\",\n              className: styles.arrowIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.catCard,\n            onClick: () => navigate('/explore', {\n              state: {\n                tab: 'ë³µì§€'\n              }\n            }),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.catTitle,\n                children: \"\\uBCF5\\uC9C0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.catDesc,\n                children: [\"\\uBCF5\\uC9C0\\uD61C\\uD0DD, \\uCC3E\\uAE30 \\uD798\\uB4DC\\uC2E0\\uAC00\\uC694?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this), \"\\uD1B5\\uD569 \\uC815\\uBCF4\\uB97C \\uD655\\uC778\\uD558\\uC138\\uC694\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: HealthIcon,\n              alt: \"\\uBCF5\\uC9C0\",\n              className: styles.catImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: BlackCircle,\n              alt: \"arrow\",\n              className: styles.arrowIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n}\n_s(AiSearch, \"knr56764NUNyQAkVdBIvZ1MVbvs=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AiSearch;\nvar _c;\n$RefreshReg$(_c, \"AiSearch\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","styles","aiSearchAPI","LightningIcon","QuestionLogo","ChatCircleDots","BlackCircle","HealthIcon","LightbulbIcon","History","SearchBalloon","SparkleIcon","sadLogo","happyLogo","NewsIcon","jsxDEV","_jsxDEV","recentSearchPool","getRandomList","prevList","candidates","filter","arr","join","length","i","Math","floor","random","AiSearch","_s","location","navigate","inputValue","setInputValue","recentSearches","setRecentSearches","searchState","setSearchState","activeTab","setActiveTab","result","setResult","answerHtml","sources","useDetailSearch","setUseDetailSearch","params","URLSearchParams","search","query","get","handleAiSearchWithQuery","q","trim","console","log","data","searchDetail","searchBrief","Object","keys","error","tldr","items","_data$items","forEach","item","idx","_item$content","title","url","summary","content","substring","map","link","provider","URL","hostname","formattedSources","source","includes","answer","response","detailed_answer","summaryText","references","related_links","links","sourceTitle","name","sourceLink","responseText","message","text","JSON","stringify","stack","handleAiSearch","handleRefresh","className","bg","children","topSection","bgBox","aiSearchBalloonBox","src","alt","balloonBg","fileName","_jsxFileName","lineNumber","columnNumber","balloonContent","balloonInput","placeholder","value","onChange","e","target","onKeyDown","key","aiSearchRight","onClick","type","aiSearchBold","sparkleIcon","buttonGroup","searchHistoryTitle","role","tabIndex","style","cursor","historyIcon","draggable","pillBtn","questionLogo","aiResultWrap","toastRow","resultLogo","toastBubble","tabsBar","tabBtn","tabActive","resultBody","loadingContainer","loadingSpinner","loadingTitle","loadingDescription","loadingDots","loadingDot","noResultBox","dangerouslySetInnerHTML","__html","replace","resultCardList","resultCard","resultCardTitle","resultCardProvider","resultCardLink","href","rel","contentsWrap","section","sectionTitle","titleIcon","grid","tag","card","cardTop","cardIcon","cardText","gridCat","catCard","state","tab","catTitle","catDesc","catImg","arrowIcon","_c","$RefreshReg$"],"sources":["C:/Users/ì´ì—¬ì¬/Desktop/SpringProject/Seosan-Issue-front/src/AiSearch/AiSearch.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./AiSearch.module.css\";\nimport { aiSearchAPI } from \"../api/backend.api\";\nimport LightningIcon from \"../assets/Lightning.png\";\nimport QuestionLogo from \"../assets/ë¬¼ìŒí‘œë¡œê³  .png\";\nimport ChatCircleDots from \"../assets/ChatCircleDots.png\";\nimport BlackCircle from \"../assets/blackcircle.png\";\nimport HealthIcon from \"../assets/Health2.png\";\nimport LightbulbIcon from \"../assets/Lightbulb.png\";\nimport History from \"../assets/refresh_gray.gif\";\nimport SearchBalloon from \"../assets/searchBalloon.png\";\nimport SparkleIcon from \"../assets/sparkle.png\";\nimport sadLogo from \"../assets/sadLogo.png\";\nimport happyLogo from \"../assets/HappyLogo.png\";\nimport NewsIcon from \"../assets/ë‰´ìŠ¤.png\";\n\n/* ===== ì¶”ì²œ ê²€ìƒ‰ í‚¤ì›Œë“œ ëª©ì—… ===== */\nconst recentSearchPool = [\n  [\"ë§›ì§‘\", \"ë…¸ì¸ë³µì§€\", \"ì„œì‚°êµí†µ\"],\n  [\"í•´ë¯¸ìì„±\", \"ë³µì§€ í˜œíƒ\", \"ì„œì‚° ì¹´í˜\"],\n  [\"ì„œì‚° ëª…ì†Œ\", \"ì „í†µì‹œì¥\", \"ë¬¸í™”í–‰ì‚¬\"],\n  [\"ì²´ìœ¡ì‹œì„¤\", \"ì„œì‚°ì‹œì²­\", \"êµí†µì •ë³´\"],\n  [\"ê´€ê´‘ì§€\", \"ì„œì‚° ë§›ì§‘\", \"ì£¼ì°¨ì¥\"],\n];\nfunction getRandomList(prevList) {\n  const candidates = recentSearchPool.filter(\n    (arr) => arr.join(\"|\") !== prevList.join(\"|\")\n  );\n  if (candidates.length === 0) return prevList;\n  const i = Math.floor(Math.random() * candidates.length);\n  return candidates[i];\n}\n\nexport default function AiSearch() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [recentSearches, setRecentSearches] = useState(recentSearchPool[0]);\n\n  // 'idle' | 'loading' | 'empty' | 'ok'\n  const [searchState, setSearchState] = useState(\"idle\");\n  const [activeTab, setActiveTab] = useState(\"answer\"); // 'answer' | 'sources'\n  const [result, setResult] = useState({ answerHtml: \"\", sources: [] });\n  const [useDetailSearch, setUseDetailSearch] = useState(true); // ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš© ì—¬ë¶€ (trueë¡œ ì„¤ì •í•˜ì—¬ ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš©)\n\n  // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²€ìƒ‰ì–´ ê°€ì ¸ì™€ì„œ ìë™ ê²€ìƒ‰\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const query = params.get('q');\n    if (query) {\n      setInputValue(query);\n      handleAiSearchWithQuery(query);\n    }\n  }, [location.search]);\n\n  // ê²€ìƒ‰ ì‹¤í–‰ (ê³µí†µ í•¨ìˆ˜)\n  const handleAiSearchWithQuery = async (query) => {\n    const q = query.trim();\n    if (!q) return;\n\n    setSearchState(\"loading\");\n    \n    try {\n      // ì‹¤ì œ ë°±ì—”ë“œ AI ê²€ìƒ‰ API í˜¸ì¶œ - ìƒì„¸ ê²€ìƒ‰ ì‚¬ìš©\n      console.log(`AI ê²€ìƒ‰ ì‹œì‘: \"${q}\"`);\n      const data = useDetailSearch \n        ? await aiSearchAPI.searchDetail(q) \n        : await aiSearchAPI.searchBrief(q);\n      console.log(useDetailSearch ? \"AI ìƒì„¸ ê²€ìƒ‰ ê²°ê³¼:\" : \"AI ê°„ëµ ê²€ìƒ‰ ê²°ê³¼:\", data);\n      console.log(\"ì‘ë‹µ ë°ì´í„° íƒ€ì…:\", typeof data);\n      console.log(\"ì‘ë‹µ í‚¤:\", data ? Object.keys(data) : \"null\");\n      \n      // ì‘ë‹µ ë°ì´í„° í˜•ì‹ í™•ì¸ ë° ì²˜ë¦¬\n      if (!data) {\n        console.log(\"ë°ì´í„°ê°€ null ë˜ëŠ” undefined\");\n        setResult({ answerHtml: \"ì£„ì†¡í•©ë‹ˆë‹¤. ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\", sources: [] });\n        setSearchState(\"empty\");\n      } else if (data.error) {\n        console.log(\"API ì—ëŸ¬ ì‘ë‹µ:\", data.error);\n        setResult({ answerHtml: data.error || \"ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\", sources: [] });\n        setSearchState(\"empty\");\n      } else if (data.tldr && data.items) {\n        // ìƒì„¸ ê²€ìƒ‰ API ì‘ë‹µ í˜•ì‹ ì²˜ë¦¬\n        console.log(\"ìƒì„¸ ê²€ìƒ‰ ì‘ë‹µ ì²˜ë¦¬:\", data);\n        \n        // itemsì˜ ë‚´ìš©ì„ ìŠ¤í¬ë¦°ìƒ· í˜•íƒœë¡œ í‘œì‹œ\n        let answerHtml = '';\n        \n        if (data.items && data.items.length > 0) {\n          data.items.forEach((item, idx) => {\n            answerHtml += `\n              <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n                <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n                  <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                    ${idx + 1}\n                  </div>\n                  <div style=\"flex: 1;\">\n                    <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                      <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                        ${item.title || 'ì œëª© ì—†ìŒ'}\n                      </h3>\n                      <a href=\"${item.url}\" target=\"_blank\" style=\"display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; background: #26d0ce; border-radius: 50%; text-decoration: none;\">\n                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n                          <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                          <polyline points=\"15 3 21 3 21 9\"></polyline>\n                          <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                        </svg>\n                      </a>\n                    </div>\n                    <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                    <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                      ${item.summary || item.content?.substring(0, 300) || 'ë‚´ìš© ì—†ìŒ'}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            `;\n          });\n        } else if (data.tldr) {\n          // itemsê°€ ì—†ìœ¼ë©´ tldrë§Œ í‘œì‹œ\n          answerHtml = `<p style=\"padding: 20px; background: #f8f9fa; border-radius: 8px; line-height: 1.6;\">${data.tldr}</p>`;\n        }\n        \n        // sources ì²˜ë¦¬ (URL ë°°ì—´ ë˜ëŠ” itemsì—ì„œ ì¶”ì¶œ)\n        const sources = data.sources || data.items?.map(item => ({\n          title: item.title || 'ì°¸ê³  ìë£Œ',\n          link: item.url,\n          provider: item.url ? new URL(item.url).hostname : 'ì¶œì²˜ ì—†ìŒ'\n        })) || [];\n        \n        const formattedSources = sources.map((source, idx) => {\n          if (typeof source === 'string') {\n            return {\n              title: `ì°¸ê³  ìë£Œ ${idx + 1}`,\n              link: source,\n              provider: source.includes('http') ? new URL(source).hostname : 'ì„œì‚°ì‹œ'\n            };\n          }\n          return source;\n        });\n        \n        setResult({ answerHtml, sources: formattedSources });\n        setSearchState(\"ok\");\n      } else if (data.summary || data.answer || data.content || data.response || data.detailed_answer || data.result) {\n        // ê°„ëµ ê²€ìƒ‰ API ì‘ë‹µ í˜•ì‹ ì²˜ë¦¬\n        const summaryText = data.result || data.detailed_answer || data.summary || data.answer || data.content || data.response || \"ë‹µë³€ì„ ìƒì„±ì¤‘ì…ë‹ˆë‹¤...\";\n        const sources = data.sources || data.references || data.related_links || data.links || [];\n        \n        console.log(\"ì¶”ì¶œëœ ë‹µë³€:\", summaryText);\n        console.log(\"ì¶”ì¶œëœ ì†ŒìŠ¤:\", sources);\n        \n        // ê°„ëµ ê²€ìƒ‰ë„ ë™ì¼í•œ í˜•íƒœë¡œ í‘œì‹œ\n        let answerHtml = `\n          <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n            <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n              <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                1\n              </div>\n              <div style=\"flex: 1;\">\n                <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                  <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                    ì„œì‚°ì‹œ ê´€ë ¨ ì •ë³´ ê²€ìƒ‰ ê²°ê³¼\n                  </h3>\n                </div>\n                <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                  ${summaryText}\n                </p>\n              </div>\n            </div>\n          </div>\n        `;\n        \n        // sourcesê°€ ìˆìœ¼ë©´ ì¶”ê°€ í•­ëª©ìœ¼ë¡œ í‘œì‹œ\n        if (sources && sources.length > 0) {\n          sources.forEach((source, idx) => {\n            const sourceTitle = typeof source === 'string' \n              ? `ì°¸ê³  ìë£Œ ${idx + 1}` \n              : (source.title || source.name || `ì°¸ê³  ìë£Œ ${idx + 1}`);\n            const sourceLink = typeof source === 'string' \n              ? source \n              : (source.link || source.url || '#');\n            \n            answerHtml += `\n              <div style=\"margin: 20px 0; background: #f5f5f5; border-radius: 12px; padding: 20px;\">\n                <div style=\"display: flex; align-items: flex-start; gap: 15px;\">\n                  <div style=\"width: 40px; height: 40px; background: #2d2d2d; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; flex-shrink: 0;\">\n                    ${idx + 2}\n                  </div>\n                  <div style=\"flex: 1;\">\n                    <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 8px;\">\n                      <h3 style=\"margin: 0; color: #1a1a1a; font-size: 16px; font-weight: 600;\">\n                        ${sourceTitle}\n                      </h3>\n                      <a href=\"${sourceLink}\" target=\"_blank\" style=\"display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; background: #26d0ce; border-radius: 50%; text-decoration: none;\">\n                        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\">\n                          <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                          <polyline points=\"15 3 21 3 21 9\"></polyline>\n                          <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                        </svg>\n                      </a>\n                    </div>\n                    <div style=\"width: 100%; height: 1px; background: #e5e5e5; margin-bottom: 12px;\"></div>\n                    <p style=\"margin: 0; color: #5a5a5a; font-size: 14px; line-height: 1.6;\">\n                      ${sourceLink}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            `;\n          });\n        }\n        \n        // sourcesê°€ URL ë¬¸ìì—´ ë°°ì—´ì¸ ê²½ìš° ê°ì²´ í˜•íƒœë¡œ ë³€í™˜\n        const formattedSources = sources.map((source, idx) => {\n          if (typeof source === 'string') {\n            return {\n              title: `ì°¸ê³  ìë£Œ ${idx + 1}`,\n              link: source,\n              provider: source.includes('http') ? new URL(source).hostname : 'ì„œì‚°ì‹œ'\n            };\n          }\n          return {\n            title: source.title || source.name || `ì°¸ê³  ìë£Œ ${idx + 1}`,\n            link: source.link || source.url || '#',\n            provider: source.provider || source.source || 'ì„œì‚°ì‹œ'\n          };\n        });\n        \n        setResult({ answerHtml, sources: formattedSources });\n        setSearchState(\"ok\");\n      } else if (data.answerHtml || data.sources) {\n        // ê¸°ì¡´ í˜•ì‹ ì§€ì›\n        console.log(\"ê¸°ì¡´ í˜•ì‹ ì‘ë‹µ ì²˜ë¦¬\");\n        setResult({\n          answerHtml: data.answerHtml || \"\",\n          sources: data.sources || []\n        });\n        setSearchState(data.answerHtml || (data.sources && data.sources.length > 0) ? \"ok\" : \"empty\");\n      } else if (typeof data === 'string') {\n        // ë¬¸ìì—´ë¡œ ì§ì ‘ ì‘ë‹µì´ ì˜¨ ê²½ìš°\n        console.log(\"ë¬¸ìì—´ ì‘ë‹µ ì²˜ë¦¬:\", data);\n        setResult({ \n          answerHtml: data, \n          sources: [] \n        });\n        setSearchState(\"ok\");\n      } else {\n        // ì•Œ ìˆ˜ ì—†ëŠ” í˜•ì‹ - ê°ì²´ì˜ ëª¨ë“  ë‚´ìš©ì„ í‘œì‹œ\n        console.log(\"ì˜ˆìƒì¹˜ ëª»í•œ ì‘ë‹µ í˜•ì‹:\", data);\n        let responseText = \"\";\n        if (data.message) responseText = data.message;\n        else if (data.text) responseText = data.text;\n        else if (data.data) responseText = typeof data.data === 'string' ? data.data : JSON.stringify(data.data, null, 2);\n        else responseText = JSON.stringify(data, null, 2);\n        \n        setResult({ \n          answerHtml: responseText, \n          sources: [] \n        });\n        setSearchState(responseText ? \"ok\" : \"empty\");\n      }\n    } catch (error) {\n      console.error(\"AI ê²€ìƒ‰ ì˜¤ë¥˜:\", error);\n      console.error(\"ì—ëŸ¬ ìƒì„¸:\", error.message, error.stack);\n      setResult({ \n        answerHtml: `ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message || 'ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜'}`, \n        sources: [] \n      });\n      setSearchState(\"empty\");\n    }\n  };\n\n  // ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬\n  const handleAiSearch = () => {\n    handleAiSearchWithQuery(inputValue);\n  };\n\n  // ìµœê·¼ ê²€ìƒ‰ ìƒˆë¡œê³ ì¹¨\n  const handleRefresh = () => {\n    setRecentSearches((prevList) => getRandomList(prevList));\n  };\n\n  return (\n    <div className={styles.bg}>\n      {/* ===== ìƒë‹¨ ê²€ìƒ‰ë°” ===== */}\n      <div className={styles.topSection}>\n        <div className={styles.bgBox}>\n          <div className={styles.aiSearchBalloonBox}>\n            <img src={SearchBalloon} alt=\"ê²€ìƒ‰ ë§í’ì„ \" className={styles.balloonBg} />\n            <div className={styles.balloonContent}>\n              <input\n                className={styles.balloonInput}\n                placeholder=\"ì°¾ìœ¼ì‹œëŠ” ì†Œì‹ì´ ìˆë‚˜ìš”?\"\n                value={inputValue}\n                onChange={(e) => setInputValue(e.target.value)}\n                onKeyDown={(e) => e.key === \"Enter\" && handleAiSearch()}\n              />\n              <button className={styles.aiSearchRight} onClick={handleAiSearch} type=\"button\">\n                <span className={styles.aiSearchBold}>AI ê²€ìƒ‰</span>\n                <img src={SparkleIcon} alt=\"\" className={styles.sparkleIcon} />\n              </button>\n            </div>\n          </div>\n\n          <div\n            className={styles.buttonGroup}\n          >\n            {/* â˜… ë³€ê²½: íƒ€ì´í‹€ ì „ì²´ë¥¼ ë²„íŠ¼ì²˜ëŸ¼ ë™ì‘í•˜ê²Œ(ë§ˆìš°ìŠ¤/í‚¤ë³´ë“œ) */}\n            <div\n              className={styles.searchHistoryTitle}\n              role=\"button\"\n              tabIndex={0}\n              title=\"ì¶”ì²œ ê²€ìƒ‰ ìƒˆë¡œê³ ì¹¨\"\n              onClick={handleRefresh}\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" || e.key === \" \") handleRefresh();\n              }}\n              style={{ cursor: \"pointer\" }}\n            >\n              <img\n                src={History}\n                alt=\"ìƒˆë¡œê³ ì¹¨\"\n                className={styles.historyIcon}\n                draggable=\"false\"\n                style={{ cursor: \"pointer\" }}\n              />\n              ì¶”ì²œ ê²€ìƒ‰\n            </div>\n            \n\n            {recentSearches.map((item, idx) => (\n              <button \n                key={item + idx} \n                className={styles.pillBtn}\n                onClick={() => {\n                  setInputValue(item);\n                  handleAiSearchWithQuery(item);\n                }}\n              >\n                {item}\n              </button>\n            ))}\n          </div>\n        </div>\n        <img src={QuestionLogo} alt=\"logo\" className={styles.questionLogo} draggable=\"false\" />\n      </div>\n\n      {/* ===== ê²€ìƒ‰ ê²°ê³¼ ì˜ì—­ (ê²€ìƒ‰ì´ ì¼ì–´ë‚˜ë©´ ì´ˆê¸° í™”ë©´ ìˆ¨ê¹€) ===== */}\n      {searchState !== \"idle\" && (\n        <div className={styles.aiResultWrap}>\n          {/* 1) í† ìŠ¤íŠ¸ */}\n          <div className={styles.toastRow}>\n            <img\n              src={searchState === \"empty\" ? sadLogo : happyLogo}\n              alt=\"ìƒíƒœ ì•„ì´ì½˜\"\n              className={styles.resultLogo}\n            />\n            <span className={styles.toastBubble}>\n              {searchState === \"loading\"\n                ? \"AIê°€ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ìˆì–´ìš” ğŸ”\"\n                : searchState === \"empty\"\n                ? \"AI ë‹µë³€ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤ âœ¨\"\n                : \"AI ë‹µë³€ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ âœ¨\"}\n            </span>\n          </div>\n\n          {/* 2) íƒ­ */}\n          <div className={styles.tabsBar}>\n            <button\n              type=\"button\"\n              onClick={() => setActiveTab(\"answer\")}\n              className={`${styles.tabBtn} ${activeTab === \"answer\" ? styles.tabActive : \"\"}`}\n            >\n              ë‹µë³€\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setActiveTab(\"sources\")}\n              className={`${styles.tabBtn} ${activeTab === \"sources\" ? styles.tabActive : \"\"}`}\n            >\n              ì¶œì²˜\n            </button>\n          </div>\n\n          {/* 3) ë³¸ë¬¸ */}\n          <div className={styles.resultBody}>\n            {searchState === \"loading\" ? (\n              <div className={styles.loadingContainer}>\n                {/* ë¡œë”© ìŠ¤í”¼ë„ˆ */}\n                <div className={styles.loadingSpinner}></div>\n                \n                {/* ë¡œë”© ë©”ì‹œì§€ */}\n                <h3 className={styles.loadingTitle}>\n                  AIê°€ ì—´ì‹¬íˆ ë‹µë³€ì„ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”\n                </h3>\n                \n                {/* ë¶€ê°€ ì„¤ëª… */}\n                <p className={styles.loadingDescription}>\n                  ì„œì‚°ì‹œì˜ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬<br/>\n                  ê°€ì¥ ì •í™•í•œ ë‹µë³€ì„ ì°¾ê³  ìˆìŠµë‹ˆë‹¤.<br/>\n                  ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”! (ì•½ 15-20ì´ˆ)\n                </p>\n                \n                {/* ì›€ì§ì´ëŠ” ë„íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */}\n                <div className={styles.loadingDots}>\n                  <span className={styles.loadingDot}>â€¢</span>\n                  <span className={styles.loadingDot}>â€¢</span>\n                  <span className={styles.loadingDot}>â€¢</span>\n                </div>\n              </div>\n            ) : searchState === \"empty\" ? (\n              <div className={styles.noResultBox}>ì´ëŸ°, ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.</div>\n            ) : activeTab === \"answer\" ? (\n              // ê°œë³„ ì„¹ì…˜ìœ¼ë¡œ í‘œì‹œ (ì™¸ë¶€ wrapper ì—†ì´)\n              <div\n                dangerouslySetInnerHTML={{ \n                  __html: result.answerHtml.includes('<') \n                    ? result.answerHtml  // ì´ë¯¸ HTMLì´ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©\n                    : result.answerHtml\n                        .replace(/\\n/g, '<br/>')  // ì¤„ë°”ê¿ˆ ì²˜ë¦¬\n                        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')  // êµµì€ ê¸€ì”¨\n                        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')  // ê¸°ìš¸ì„\n                }}\n              />\n            ) : (\n              <div className={styles.resultCardList}>\n                {result.sources.map((item, idx) => (\n                  <div className={styles.resultCard} key={idx}>\n                    <div className={styles.resultCardTitle}>{item.title}</div>\n                    <div className={styles.resultCardProvider}>{item.provider}</div>\n                    <a\n                      className={styles.resultCardLink}\n                      href={item.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      ë°”ë¡œê°€ê¸°\n                    </a>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* ===== ì´ˆê¸° ëœë”©(ê²€ìƒ‰ ì „) ===== */}\n      {searchState === \"idle\" && (\n        <div className={styles.contentsWrap}>\n          <div className={styles.section}>\n            <div className={styles.sectionTitle}>\n              <img src={LightbulbIcon} alt=\"\" className={styles.titleIcon} />\n              ì¸ê¸° í‚¤ì›Œë“œ\n            </div>\n            <div className={styles.grid}>\n              {[\n                { tag: \"ë¯¼ì›\", text: \"ë¯¼ì› ì‹ ì²­\" },\n                { tag: \"ë³µì§€\", text: \"ë…¸ì¸ë³µì§€\" },\n                { tag: \"í–‰ì‚¬\", text: \"ì„œì‚° í–‰ì‚¬\" },\n                { tag: \"ê´€ê´‘\", text: \"í•´ë¯¸ ìì„±\" },\n              ].map((q, i) => (\n                <div \n                  key={i} \n                  className={styles.card}\n                  onClick={() => {\n                    setInputValue(q.text);\n                    handleAiSearchWithQuery(q.text);\n                  }}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div className={styles.cardTop}>\n                    <span className={styles.tag}>{q.tag}</span>\n                    <img src={ChatCircleDots} alt=\"\" className={styles.cardIcon} />\n                  </div>\n                  <div className={styles.cardText}>{q.text}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className={styles.section}>\n            <div className={styles.sectionTitle}>\n              <img src={LightningIcon} alt=\"\" className={styles.titleIcon} />\n              ì¸ê¸° ì¹´í…Œê³ ë¦¬\n            </div>\n            <div className={styles.gridCat}>\n              <div \n                className={styles.catCard}\n                onClick={() => navigate('/explore', { state: { tab: 'ë‰´ìŠ¤' } })}\n                style={{ cursor: 'pointer' }}\n              >\n                <div>\n                  <div className={styles.catTitle}>ë‰´ìŠ¤</div>\n                  <div className={styles.catDesc}>\n                    ì„œì‚°ì˜ ìµœê·¼ì†Œì‹ì„ ì—¬ê¸°ì„œ,<br />\n                    ë°”ë¡œ ì•Œì•„ë³´ì„¸ìš”\n                  </div>\n                </div>\n                <img src={NewsIcon} alt=\"ë‰´ìŠ¤\" className={styles.catImg} />\n                <img src={BlackCircle} alt=\"arrow\" className={styles.arrowIcon} />\n              </div>\n              <div \n                className={styles.catCard}\n                onClick={() => navigate('/explore', { state: { tab: 'ë³µì§€' } })}\n                style={{ cursor: 'pointer' }}\n              >\n                <div>\n                  <div className={styles.catTitle}>ë³µì§€</div>\n                  <div className={styles.catDesc}>\n                    ë³µì§€í˜œíƒ, ì°¾ê¸° í˜ë“œì‹ ê°€ìš”?\n                    <br />\n                    í†µí•© ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”\n                  </div>\n                </div>\n                <img src={HealthIcon} alt=\"ë³µì§€\" className={styles.catImg} />\n                <img src={BlackCircle} alt=\"arrow\" className={styles.arrowIcon} />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}